F.module("/static/common/ui/mask/mask.js",function(c,g){var d=c("/static/common/lib/tangram/base/base.js");var a=false;var b=d.browser.ie,e=b===6,h,i;var f=function(){var k=d.page.getHeight();if(k-i>10){i=k;j._el.style.height=k+"px"}};var j={_style:{backgroundColor:"#000",opacity:0.15},_disableScroll:true,init:function(){if(a){return this}this._el=document.createElement("div");this._el.style.display="none";this._el.className="com-image-mask";document.body.appendChild(this._el);this._addEventListener();a=true;return this},_addEventListener:function(){var k=this;d.on(this._el,"click",function(){k.triggerClick()});if(e){h=d.page.getWidth();i=d.page.getHeight();this._el.style.height=i+"px";d.on(window,"resize",f)}},triggerClick:function(){},setZindex:function(k){if(!a){this.init()}this._el.style.zIndex=k;return this},show:function(k){if(k){k.style&&(this._style=d.extend(this._style,k.style));(typeof k.disableScroll==="boolean")&&(this._disableScroll=k.disableScroll)}if(!a){this.init()}this._render();this._el.style.display="block";return this},hide:function(){this._el&&(this._el.style.display="none");if(e){}if(this._disableScroll){var l=document.documentElement||document,k=document.body;l.style.overflow=""}return this},_render:function(){var q=this._el,p=this._style,o=this._disableScroll;if(q){var n=q.style;for(var m in p){n[m]=p[m];if(m==="opacity"&&b<9){n.filter="alpha(opacity="+p[m]*100+")"}}}if(this._disableScroll){var r=document.documentElement||document,l=document.body;r.style.overflow="hidden"}return this}};g=j;return g},["/static/common/lib/tangram/base/base.js"]);F.module("/static/common/ui/IframeDialog/IframeDialog.js",function(f,c){var e=f("/static/common/lib/tangram/base/base.js");var b=f("/static/common/ui/mask/mask.js");var g={cssClass:"iframe-dialog",width:500,height:300,top:0,left:0,autoCenter:true,widthMask:true};var d=function(h){if("number"!==typeof h||isNaN(h)){return false}return true};var a=function(h){h=h||{};this.conf=g;e.extend(this.conf,h)};e.extend(a.prototype,{init:function(){this.$element=document.createElement("div");this.$iframe=document.createElement("iframe");this.$close=document.createElement("button");this.$element.className=this.conf.cssClass;this.$element.appendChild(this.$close);this.$element.appendChild(this.$iframe);this.setPosition(this.conf.left,this.conf.top);this.setSize(this.conf.width,this.conf.height);this.$iframe.frameBorder=0;this.$iframe.scrolling="no";document.body.appendChild(this.$element);this._bindEvents()},_bindEvents:function(){var h=this;e.on(this.$close,"click",function(){h.hide()});e.on(window,"resize",function(){if(h.conf.autoCenter){h.center()}});e.on(window,"scroll",function(){if(h.conf.autoCenter){h.center()}})},show:function(h){if(this.conf.widthMask){b.show(h)}this.$element.style.display="block"},hide:function(h){if("undefined"===typeof h){h=true}if(h){b.hide()}this.$element.style.display="none"},setSize:function(i,j){this.width(i);this.height(j)},setPosition:function(h,i){this.top(i);this.left(h)},top:function(h){if(!d(h)){return this._top}this._top=h;this.$element.style.top=h+"px"},left:function(h){if(!d(h)){return this._left}this._left=h;this.$element.style.left=h+"px"},height:function(h){if(!d(h)){return this._height}this._height=h;this.$element.style.height=h+"px"},width:function(h){if(!d(h)){return this._width}this._width=h;this.$element.style.width=h+"px"},zIndex:function(h){this.$element.style.zIndex=h},setUrl:function(h){this.$iframe.src=h},resetIFrame:function(){this.$element.removeChild(this.$iframe);this.$iframe=document.createElement("iframe");this.$iframe.frameBorder=0;this.$iframe.scrolling="no";this.$element.appendChild(this.$iframe)},center:function(i){var k=Math.min(e.page.getWidth(),document.documentElement.clientWidth);var j=e.page.getViewHeight();var h=e.page.getScrollTop();var n=e.page.getScrollLeft();var m=(j-this.height())/2+h;var l=(k-this.width())/2+n;switch(i){case"v":l=null;break;case"h":m=null;break;default:}this.setPosition(l,m)}});c=a;return c},["/static/common/lib/tangram/base/base.js","/static/common/ui/mask/mask.js"]);F.module("/static/common/ui/yunXiangCe/yunXiangCe.js",function(f,h){var g=f("/static/common/lib/tangram/base/base.js");var j=f("/static/common/ui/IframeDialog/IframeDialog.js");var b=h={};var c;var k;var i;var d="http://xiangce.baidu.com/bookmark?name=#{title}&surl=http%3A%2F%2Fimage.baidu.com&srcs[]=#{objURL}";b.init=function(l){c=g.g(l);g.on(c,"click",function(){a()})};b.update=function(l){i=l};var a=function(){if(!k){k=new j({width:650,height:400});k.init()}var l=e();k.resetIFrame();k.setUrl(l);k.center();k.show({disableScroll:false})};var e=function(){if(!i){return}var l={title:encodeURIComponent(i.title),objURL:encodeURIComponent(i.objURL)};return g.string.format(d,l)};return h},["/static/common/lib/tangram/base/base.js","/static/common/ui/IframeDialog/IframeDialog.js"]);