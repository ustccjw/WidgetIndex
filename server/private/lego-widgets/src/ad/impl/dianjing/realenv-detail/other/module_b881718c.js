F.module("/static/widget/searchdetail/phoneQrcode/phoneQrcode.js",function(e,b){var d=e("/static/common/lib/tangram/base/base.js");var f=d.g;var c=e("/static/searchdetail/ui/base/statistic/statistic.js");var a=e("/static/searchdetail/ui/base/ParamsBus/ParamsBus.js");b=function(){var r;var n=f("PQbox");var i=f("PQtitle");var m=f("PQelement");var o=f("PQsize");var j=f("PQarrow");var l=f("qrcodeBtn");var g=f("phoneLink");function p(){var s=r.width+"&#215;"+r.height;if(r.filesize&&r.filesize!="0"){s+=" , "+r.filesize+"KB"}f("PQsize").innerHTML=s}function k(t,s){n.style.width=t+"px";n.style.height=s+25+"px";n.style.marginLeft=(-41+t/-2)+"px";l.style.marginLeft=(-43-20+t/2)+"px";m.style.width=t-90+"px";m.style.height=s-65+"px"}function q(x,s){var x=(typeof x=="string")?document.getElementById(x):x;if(!x){return null}function v(C,z){var M={render:"table",width:128,height:128,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000",text:"http://image.baidu.com"};if(z){for(var D in z){if(z[D]){M[D]=z[D]}}}var J=new QRCode(M.typeNumber,M.correctLevel);J.addData(M.text);J.make();var y=3||Math.floor(M.width/J.getModuleCount());var I=3||Math.floor(M.height/J.getModuleCount());var E=J.getModuleCount();var H=J.getModuleCount();M.width=y*E;M.height=I*H;var K="<table style='width:"+M.width+"px;height:"+M.height+"px;border:0px;margin:5px 0 5px 0;border-collapse:collapse;background-color:"+M.background+";'>";for(var L=0;L<E;L++){var G="<tr style='height:"+I+"px;'>";for(var A=0;A<H;A++){var B="<td style='width:"+y+"px;background-color:"+(J.isDark(L,A)?M.foreground:M.background)+";'></td>";G+=B}K+=G+"</tr>"}K+="</table>";C.innerHTML=K;k(M.width+90,M.height+70)}var t=function(C,B,A,z){var y=qrcode(B||10,A||"M");y.addData(C);y.make();return y.createImgTag()};function u(B,A){var y={width:128,height:128,text:"http://image.baidu.com"};if(A){for(var z in A){if(A[z]){y[z]=A[z]}}}var C=A.text.replace(/^[\s\u3000]+|[\s\u3000]+$/g,"");B.innerHTML=t(C);B.getElementsByTagName("img")[0].style.width=A.width+"px";B.getElementsByTagName("img")[0].style.height=A.height+"px";k(y.width+90,y.height+65)}if(d.browser.ie<=7){try{v(x,s)}catch(w){d.sio.callByBrowser("http://img.baidu.com/img/image/qrcode.min.js",function(){v(x,s)})}}else{try{u(x,s)}catch(w){d.sio.callByBrowser("http://img.baidu.com/img/image/qrcode.plus.js",function(){u(x,s)})}}}function h(t){t=t||window.event;var s=t.target||t.srcElement;if(s==g||s==phoneQrcode){return}while(s&&s!=document.body){s=s.parentNode;if(s==phoneQrcode){return}}f("phoneQrcode").style.display="none"}d.on(f("phoneLink"),"click",function(s){c.send(s,50,{});if(d.dom.hasClass(f("phoneLink").parentNode,"unable")){return false}f("phoneQrcode").style.display="inline";imgdata=DataManager.getCurrentImgSetData();if(!r||r.objURL!=imgdata.objURL){r=imgdata;p();q("PQelement",{width:130,height:130,text:r.objURL})}});d.on(f("qrcodeBtn"),"click",function(){f("phoneQrcode").style.display="none"});if(d.browser.ie){document.attachEvent("onmousedown",h)}else{document.addEventListener("click",h,false)}};return b},["/static/common/lib/tangram/base/base.js","/static/searchdetail/ui/base/statistic/statistic.js","/static/searchdetail/ui/base/ParamsBus/ParamsBus.js"]);
F.module("/static/widget/searchdetail/wallpaper/wallpaper.js",function(e,h){var g=e("/static/common/lib/tangram/base/base.js");var n=e("/static/searchdetail/ui/base/utils/utils.js");var c=e("/static/searchdetail/ui/base/statistic/statistic.js");var k="http://bizhi.baidu.com/imagepreview/index.html";var r=location.protocol+"//"+location.host+"/static/searchdetail/html/crosswallpaper.html";var f="http://image.baidu.com/i?tn=download&word=download&ie=utf8&fr=detailWall&url=";var j=false;var m=function(s){var p='<div id="iframeBg" class="iframeBg" onclick="window.frameclose();"></div><div id="disIframe" class="disIframe"><iframe id="bizi-iframe" frameborder="0" width="907px" height="452px"></iframe></div>';if(g.g("iframeBg")){}else{g.dom.insertHTML(document.body,"beforeEnd",p);g.g("bizi-iframe").src=k+"?redirecturl="+encodeURIComponent(r)+"&imageurl="+encodeURIComponent(s)+"&"+(new Date).getTime()}};var i=function(){var p="";if(navigator.platform=="Win32"){if(navigator.userAgent.indexOf("Windows NT 5")>-1){p="xp"}else{p="win7"}}else{p="xp"}return p};var o=function(){j=false;if(_BDPluginAXCheck&&_BDPluginAXCheck.exist()==true){j=true}return j};window.frameclose=function(p){if("1"==p){l("\u8bbe\u7f6e\u6210\u529f")}else{if(p&&p!="1"){l("\u8bbe\u7f6e\u5931\u8d25")}}if(g.g("iframeBg")){g.dom.remove("iframeBg")}if(g.g("disIframe")){g.dom.remove("disIframe")}o();b()};window.WP9278A0FC9F485dB8C86BAA1688E99F=function(){var p=_BDPluginAXCheck.instance();var s=p.GetErrorCode();window.frameclose(s)};BD.IMG.setWallPaper=function(){if(_BDPluginAXCheck&&o()==true){_BDPluginAXCheck.instance().WebSetWallpaper(BD.IMG.getCurrImgURL());c.send(null,368,{})}else{m(BD.IMG.getCurrImgURL())}};BD.IMG.getCurrImgURL=function(){var u="http://image.baidu.com/i?tn=download&word=download&ie=utf8&fr=detailWall&url=";var t=g.g("setWallPaper").getAttribute("data-url");var p=g.g("setWallPaper").getAttribute("data-imgheight");var s=g.g("setWallPaper").getAttribute("data-imgheight");return u+encodeURIComponent(t)+"&height="+p+"&width="+s};var b=function(){if(true==j){g.dom.removeClass("setWallPaperFlash","hideWallPaper");g.dom.addClass("setWallPaper","hideWallPaper")}else{g.dom.addClass("setWallPaperFlash","hideWallPaper");g.dom.removeClass("setWallPaper","hideWallPaper")}};var q=function(){if(!(_BDPluginAXCheck&&_BDPluginAXCheck.checkSys())){g.dom.addClass("setWallPaperFlash","hideWallPaper");g.dom.addClass("setWallPaper","hideWallPaper");return}g.swf.create({id:"flashPreView",url:"/static/searchdetail/flash/WallpaperImages.swf?v=1",width:"72",height:"30",wmode:"transparent",allowFullScreen:"true",errorMessage:"\u8f7d\u5165FLASH\u51fa\u9519",ver:"9.0.0",vars:{preview:1,system:i(),imagesurl:""}},"setWallPaperFlash");o();b();g.on("setWallPaper","click",function(){c.send(null,366,{});m(BD.IMG.getCurrImgURL())});g.on("setWallPaperFlash","mousedown",function(){c.send(null,367,{})})};var d=null,a=null;var l=function(s){if(!d){var p='<div class="wallpaper-info"></div>';d=n.str2dom(p);g.g("container").appendChild(d)}d.innerHTML=s;d.style.display="block";clearTimeout(a);setTimeout(function(){d.style.display="none"},1500)};h={ini:q};return h},["/static/common/lib/tangram/base/base.js","/static/searchdetail/ui/base/utils/utils.js","/static/searchdetail/ui/base/statistic/statistic.js"]);F.module("/static/searchdetail/ui/base/utils/utils.js",function(n,E){BD=window.BD||{};BD.IMG=BD.IMG||{};var k=n("/static/common/lib/tangram/base/base.js");var D=E=BD.IMG.utils={};try{document.execCommand("BackgroundImageCache",false,true)}catch(B){}window.onerror=function(G){};function w(e){return e.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g,"")}D.trim=BD.IMG.trim=w;D.escapeXSS=BD.IMG.escapeXSS=function(e){return e.replace(/[<>]/g,function(G){return encodeURIComponent(G)}).replace(/"/g,"%22").replace(/'/g,"%27")};D.escapeHTML=BD.IMG.escapeHTML=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};D.getHashConf=BD.IMG.getHashConf=function(){var H=w(location.href.split("#")[1]||"");H=(H?H.split("&"):[]);for(var G=0,e=H.length;G<e;G++){H[G]=D.escapeHTML(D.decodeURIComponent(H[G]))}return H};function o(G){if(G==null||typeof G!="object"){return G}var H=[];for(var e in G){H[H.length]=e+"="+G[e]}return H.join("&")}D.json2Query=BD.IMG.json2Query=o;function q(J){if(J==null||typeof J!="string"){return J}var H={};var K=J.split("&");for(var G=0,e=K.length;G<e;G++){var I=K[G].split("=");H[I[0]]=I[1]}return H}D.query2Json=BD.IMG.query2Json=q;var u=q(D.escapeXSS(window.location.search.substring(1)));D.G=function(e){return document.getElementById(e)};function r(J,K,G){var I=/[^\x00-\xff]/g;if(J.replace(I,"mm").length<=K){return J}var H,e;for(H=0,e=0;H<J.length,e<K;H++){e+=J.charAt(H).replace(I,"mm").length}if(e>K){H--}return J.substring(0,H)+G}D.customSubStr=BD.IMG.customSubStr=r;D.addStyle=function(G,e){var H=document.styleSheets[0];if(H.addRule){H.addRule(G,e)}else{if(H.insertRule){H.insertRule(G+" { "+e+" }",H.cssRules.length)}}};D.getBodySize=function(){var e=0,N=0,K=0,I=0,G=0,O=0;var L=window,J=document,M=J.documentElement;e=M.clientWidth||J.body.clientWidth;N=L.innerHeight||M.clientHeight||J.body.clientHeight;I=J.body.scrollTop||M.scrollTop;K=J.body.scrollLeft||M.scrollLeft;G=Math.max(J.body.scrollWidth,M.scrollWidth||0);O=Math.max(J.body.scrollHeight,M.scrollHeight||0,N);return{w:e,h:N,sw:G,sh:O}};D.getW=function(){var G=0;var H=document,e=H.documentElement;G=e.clientWidth||H.body.clientWidth;return G};function a(e,I){if(!this.srcWidth||!this.srcHeight){return}if((this.srcWidth>e)||(this.srcHeight>I)){var G=e/this.srcWidth;var H=I/this.srcHeight;if(G<H){this.style.width=e+"px";this.style.height=this.srcHeight*G+"px";this.zoomRate=G}else{this.style.width=this.srcWidth*H+"px";this.style.height=I+"px";this.zoomRate=H}}else{this.zoomRate=1;this.style.width=this.srcWidth+"px";this.style.height=this.srcHeight+"px"}}D.zoom=a;function x(H,L,G){var I=G/H;var K=G/L;var e=L,J=H;if(I<K){J=G;e=L*I}else{J=H*K;e=G}return{width:J,height:e}}D.zoomImg=x;if(!k.opera){D.addStyle("#imgList div img","display:none")}function f(G,e){e=e||100;G.style.display="inline";G.srcWidth=G.width;G.srcHeight=G.height;G.zoom=a;G.zoom(e,e)}D.smallImageZoom=BD.IMG.smallImgZoom=f;function y(e){e.style.display="inline";e.srcWidth=127;e.srcHeight=140;e.zoom=a;e.zoom(80,80)}D.smallImageError=BD.IMG.smallImgErr=y;D.decodeURIComponent=function(H){try{return decodeURIComponent(H)}catch(G){return H}};D.cloneObj=(function(e){return function(K){var H=K,I,G;if(!K||K instanceof Number||K instanceof String||K instanceof Boolean){return H}else{if(K instanceof Array){H=[];var J=0;for(I=0,G=K.length;I<G;I++){H[J++]=D.cloneObj(K[I])}}else{if("object"==typeof K){if(e[Object.prototype.toString.call(K)]){return H}if(K.toString().indexOf("Element")!=-1&&K.nodeType==1){return{}}H={};for(I in K){if(K.hasOwnProperty&&K.hasOwnProperty(I)){H[I]=D.cloneObj(K[I])}}}}}return H}})({"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1});function i(G,H,J,I){var K=190,e=130;if(G==0||H==0){G=H=K}if((H<J&&G<J)){J=Math.min(H,J);G=J*G/H}else{G=J*G/H}if(G>K*1.15){J=J*K*1.15/G;G=K*1.15}if(!I){G=Math.max(G,e);if(G>K){J=J*K/G;G=K}}return{width:parseInt(G),height:parseInt(J)}}D.getImgSize=i;function v(H,L,G){G=Math.min(Math.max(H,L),G);var I=G/H;var K=G/L;var e=L,J=H;if(I<K){J=G;e=L*I}else{J=H*K;e=G}return{width:J,height:e}}D.zoomForResult=v;function m(G,J,e,I){var K=v(G,J,e);var L=K.width,H=K.height;if(I>0&&L<I){L=I;H=H*L/K.width}return{width:parseInt(L),height:parseInt(H)}}D.zoomLimitWidth=m;function h(){var G=document,e=G.compatMode=="BackCompat"?G.body:G.documentElement;return e.clientHeight}D.getH=h;window.changeTitle=(function(){var e=window.document.title;return function(){window.document.title=e}})();var d=new Date();function A(){var G=BD.IMG.query2Json(BD.IMG.escapeXSS(window.location.search.substring(1)));var H=d.getTime();if(G.fmq==undefined||G.fmq==""){G.fmq=H+"_D"}else{if(G.fmq.indexOf("m")>-1&&G.fmq.indexOf("_m")==-1&&G.fmq.indexOf("_D")==-1){var e=G.fmq;G.fmq=H+"_"+e+"_D"}else{if(G.fmq.indexOf("_D")==-1){var e=G.fmq;G.fmq=e+"_D"}}}return G.fmq}D.fmqDetailValueSet=A;var c=false;function l(I,K){if(c){return true}c=true;var G=BD.IMG.query2Json(BD.IMG.escapeXSS(window.location.search.substring(1)));if(w(BD.IMG.gconf.qword)==I.word.value){I.fmq.value=A();I.fm.value=""}else{var J=new Date();var H=J.getTime();if(G.fmq==undefined){I.fmq.value=H+"_R"}else{if(G.fmq.indexOf("m")>-1&&G.fmq.indexOf("_m")==-1&&G.fmq.indexOf("_R")==-1){var e=G.fmq;I.fmq.value=H+"_"+e+"_R"}else{I.fmq.value=H+"_R"}}}BD.IMG.statistic.send(event,41);return true}window.f_submit=D.f_submit=l;D.logTime=function(H,J,e){var I=BD.IMG.StatCof.host+"6.gif?for=detailtime&hostfr=imgstat",G;G=window[e]=new Image;G.onload=G.onerror=function(){G.onload=G.onerror=null;G=null;window[e]=null};G.src=I+"&type="+H+"&totaltime="+(e-J)+"&"+(new Date()*Math.random())};function s(H,L,G){G=Math.min(Math.max(H,L),G);var I=G/H;var K=G/L;var e=L,J=H;if(I<K){J=G;e=L*I}else{J=H*K;e=G}return{width:J,height:e}}D.zoomRS=s;function p(H,J,e,G){var K=s(H,J,e);var L=K.width,I=K.height;if(minWidth>0&&L<minWidth){L=minWidth;I=I*L/K.width}return{width:parseInt(L),height:parseInt(I)}}D.zoomLimit=p;function t(G,I,J,L,e){L=L||190;e=e||125;if(G==0||I==0){G=I=L}var K=g(G,I,J);G=K.width;if(G>L||G<e){var H=Math.min(L,Math.max(e,G));J=Math.min(J*H/G,J);G=H}return{width:parseInt(G),height:parseInt(J)}}D.zoomByHeightLimit=t;function g(e,G,H){if(e==0||G==0){e=G=220}if(G<H){H=Math.min(G,H);e=H*e/G}else{e=H*e/G}return{width:parseInt(e),height:parseInt(H)}}D.zoomByHeight=g;BD.IMG.messageCollection={};D.subscribe=BD.IMG.subscribe=function(I,H,G){var G=G||window;BD.IMG.messageCollection[I]=BD.IMG.messageCollection[I]||[];var e=BD.IMG.getUID();BD.IMG.messageCollection[I][BD.IMG.messageCollection[I].length]={uid:e,handler:H,context:G};return e};D.unsubscribe=BD.IMG.unsubscribe=function(J){for(var H in BD.IMG.messageCollection){var G=BD.IMG.messageCollection[H];for(var I=0,e=G.length;I<e;I++){if(J==G[I].uid){G.splice(I,1);return true}}}return false};D.publish=BD.IMG.publish=function(K,G){if(BD.IMG.messageCollection[K]==undefined){return false}if(typeof G=="undefined"){G=[]}for(var I=0,e=BD.IMG.messageCollection[K].length;I<e;I++){var J=BD.IMG.messageCollection[K][I].handler;var H=BD.IMG.messageCollection[K][I].context;J.apply(H,G)}return true};D.str2dom=(function(){var e;return function(G){if(!G){return false}if(!e){e=document.createElement("div")}e.innerHTML=G;return e.childNodes[0]}})();D.compile=function(G){var H=(G.charCodeAt(0)+G.length).toString(16);for(var e=1;e<G.length;e++){H+="g"+(G.charCodeAt(e)+G.charCodeAt(e-1)).toString(16)}return H};var j={w:"a",k:"b",v:"c","1":"d",j:"e",u:"f","2":"g",i:"h",t:"i","3":"j",h:"k",s:"l","4":"m",g:"n","5":"o",r:"p",q:"q","6":"r",f:"s",p:"t","7":"u",e:"v",o:"w","8":"1",d:"2",n:"3","9":"4",c:"5",m:"6","0":"7",b:"8",l:"9",a:"0","_z2C$q":":","_z&e3B":".",AzdH3F:"/"};var C=/([a-w\d])/g,z=/(_z2C\$q|_z&e3B|AzdH3F)/g;D.uncompile=function(G){var e=G.replace(z,function(I,H){return j[H]});return e.replace(C,function(I,H){return j[H]})};D.uncompileURL=function(e){if(/^(http|https)/.test(e)){return e}return D.uncompile(e)};var b=["a","c","e","g","i","k","z","b","w","o"];BD.IMG.utils.encodeTime=function(I){var G=I+"",H="";for(var J=0,e=G.length;J<e;J++){H+=b[parseInt(G.charAt(J),10)]}return H};return E},["/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/base/ParamsBus/ParamsBus.js",function(e,d){var c=e("/static/searchdetail/ui/base/utils/utils.js");var b=c.query2Json(c.escapeXSS(window.location.search.substring(1)));var g=BD.IMG.gconf&&BD.IMG.gconf.ie;if(/^(GB18030|gb2312)$/i.test(g)){g="gbk"}var f={ie:g,oe:BD.IMG.gconf&&BD.IMG.gconf.oe};var a={getSearchConf:function(){return b},getGlobalConf:function(h){return f[h]},setSearchConf:function(j){for(var h in j){if(!j.hasOwnProperty(h)){continue}b[h]=j[h]}}};d=a;return d},["/static/searchdetail/ui/base/utils/utils.js"]);
F.module("/static/searchdetail/ui/base/statistic/statistic.js",function(e,c){BD=window.BD||{};BD.IMG=BD.IMG||{};BD.IMG.gconf=BD.IMG.gconf||{};var d=e("/static/common/lib/tangram/base/base.js");var b=e("/static/searchdetail/ui/base/utils/utils.js");var a=e("/static/searchdetail/ui/base/ParamsBus/ParamsBus.js");BD.IMG.StatCof=(function(){var f=a.getSearchConf();var h=b.fmqDetailValueSet();function g(l){var j=b.query2Json(b.escapeXSS(window.location.search.substring(1)));for(var k in l){j[k]=l[k]}return j}return{host:"http://imgstat.baidu.com/",lcHost:"http://lc.baidu.com/",tn:"baiduimagedetail",q:BD.IMG.gconf.gbkword,cl:f.cl,lm:f.lm,st:f.st,mv:f.mv,z:f.z,fr:f.fr,fmq:h,tab:f.tab,ad:(BD.IMG.gconf.isEcom?1:0),tabType:f.tabType,s:f.s,getNewURL:g}})();c=BD.IMG.statistic=(function(){var l=100,A=(new Date).getTime(),M=true,h=0;function J(T,U){var S=window["__log__"+(new Date()).getTime()]=document.createElement("img");S.src=T+"?hostfr=imgstat&"+U+"&"+new Date()*Math.random()}function f(U,aa){h++;var V=DataManager.getCurrentImgSetData();var Z=DataManager.getCurrIS();var W=DataManager.getCurrISListNum();var ac=BD.IMG.StatCof.host+"5.gif";var T=DetailImg.getLastImgObj();T&&T.imgsrc&&(T.imgsrc.__zoomForLog=false);var S=(T?T.loadState:-1);var X=(T?(new Date()).getTime()-T.imgViewStart:-1);var ab={};var Y=(new Date).getTime();ab.p=aa.p;ab.q=BD.IMG.StatCof.q;ab.pn=V.pageNum;ab.cl=BD.IMG.StatCof.cl;ab.lm=BD.IMG.StatCof.lm;ab.st=BD.IMG.StatCof.st;ab.mv=BD.IMG.StatCof.mv;ab.z=BD.IMG.StatCof.z;ab.tn=BD.IMG.StatCof.tn;ab.ad=BD.IMG.StatCof.ad;ab.ist=V.source_type;ab.di=V.di;ab.u=V.objURL;ab.f=encodeURIComponent(/^http/.test(V.fromURL)?V.fromURL:b.uncompile(V.fromURL));ab.is=Z||"";ab.isln=W||0;ab.tp=aa.tp;ab.keyb=aa.keyb||"";ab.dp=aa.dp||"";ab.fr=BD.IMG.StatCof.fr;ab.qs=BD.IMG.StatCof.fmq||"";ab.tab=BD.IMG.StatCof.tab||"";ab.fp=aa.fp||"";ab.tabType=BD.IMG.StatCof.tabType;ab.lis=S;ab.livt=X;if(M){ab.factiontm=(new Date())-window.startTime;M=false}ab.optime=Y-A;A=Y;ab.s=BD.IMG.StatCof.s;return{host:ac,query:ab,isAsyn:false}}function q(U,ac){h++;var ae=BD.IMG.StatCof.host+"5.gif";var V=DataManager.getCurrentImgSetData();var Z;var ab=0;var W=DataManager.getCurrISListNum();var aa=DataManager.getCurrIS();var T=DetailImg.getLastImgObj();if(T&&(Z=T.imgsrc)){ab=Z.__zoomForLog?1:0;Z.__zoomForLog=false}var S=(T?T.loadState:-1);var X=(T?(new Date()).getTime()-T.imgViewStart:-1);var ad={};var Y=(new Date).getTime();ad.p=ac.p;ad.q=BD.IMG.StatCof.q;ad.pn=V.pageNum;ad.cl=BD.IMG.StatCof.cl;ad.lm=BD.IMG.StatCof.lm;ad.st=BD.IMG.StatCof.st;ad.mv=BD.IMG.StatCof.mv;ad.z=BD.IMG.StatCof.z;ad.tn=BD.IMG.StatCof.tn;ad.ad=BD.IMG.StatCof.ad;ad.ist=V.source_type;ad.di=V.di;ad.u=V.objURL;ad.f=encodeURIComponent(/^http/.test(V.fromURL)?V.fromURL:b.uncompile(V.fromURL));ad.nb=ac.nb;ad.is=aa||"";ad.isln=W||0;ad.fr=BD.IMG.StatCof.fr;ad.qs=BD.IMG.StatCof.fmq||"";ad.tab=BD.IMG.StatCof.tab||"";ad.fp=ac.fp||"";ad.tabType=BD.IMG.StatCof.tabType;ad.lis=S;ad.livt=X;ad.iszoom=ab;if(M){ad.factiontm=(new Date())-window.startTime;M=false}ad.optime=Y-A;A=Y;ad.s=BD.IMG.StatCof.s;return{host:ae,query:ad,isAsyn:false}}function E(U,S){var T=BD.IMG.StatCof.host+"5.gif";var W=DataManager.getCurrentImgSetData();var V={};V.p=S.p;V.q=BD.IMG.StatCof.q;V.pn=W.pageNum;V.cl=BD.IMG.StatCof.cl;V.lm=BD.IMG.StatCof.lm;V.st=BD.IMG.StatCof.st;V.z=BD.IMG.StatCof.z;V.tn="baiduimagejson";V.ad=BD.IMG.StatCof.ad;V.fr=BD.IMG.StatCof.fr;V.tab=BD.IMG.StatCof.tab||"";V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function R(T,Y){var V=T.srcElement||T.target;while(V&&V.id!="picWrap"&&V.parentNode!=document.body&&V.tagName.toLowerCase()!="a"){V=V.parentNode}var ab=BD.IMG.StatCof.host+"5.gif";var U=DataManager.getCurrentImgSetData();var Z={};Z.p=Y.p;Z.q=BD.IMG.StatCof.q;Z.pn=BD.IMG.curObj.pageNum||U.pageNum;Z.cl=BD.IMG.StatCof.cl;Z.lm=BD.IMG.StatCof.lm;Z.st=BD.IMG.StatCof.st;Z.z=BD.IMG.StatCof.z;Z.tn=BD.IMG.StatCof.tn;Z.fr=BD.IMG.StatCof.fr;Z.tab=BD.IMG.StatCof.tab||"";Z.qs=BD.IMG.StatCof.fmq||"";var aa=BD.IMG.curObj.fromURL;var X=Z.f=encodeURIComponent(/^http/.test(aa)?aa:b.uncompile(aa));if(V&&V.id!="picWrap"){var W=d.cookie.get("BAIDUID"),S=Math.round((new Date()).getTime()/1000);S=b.encodeTime(S);if(!W){W=""}else{W=W.substring(0,6)}V.href="/i?tn=redirect&word=j&juid="+encodeURIComponent(W)+"&sign="+encodeURIComponent(S)+"&url="+(X);Z.fm="ahref"}else{Z.fm="picwrap";Z.asp=Y.dianjing}return{host:ab,query:Z,isAsyn:false}}function k(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function u(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function N(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.op=(S.op||"");V.qs=BD.IMG.StatCof.fmq||"";var W=DataManager.getCurrentImgSetData();if(W){V.objURL=encodeURIComponent(W.objURL);V.fromURL=encodeURIComponent(/^http/.test(W.fromURL)?W.fromURL:b.uncompile(W.fromURL))}return{host:T,query:V,isAsyn:false}}function s(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.fr=S.fr;V.op=(S.op||"");V.qs=BD.IMG.StatCof.fmq||"";var W=DataManager.getCurrentImgSetData();if(W){V.objURL=encodeURIComponent(W.objURL);V.fromURL=encodeURIComponent(/^http/.test(W.fromURL)?W.fromURL:b.uncompile(W.fromURL))}return{host:T,query:V,isAsyn:false}}function H(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.op=(S.op||"");V.qs=BD.IMG.StatCof.fmq||"";var W=DataManager.getCurrentImgSetData();if(W){V.objURL=encodeURIComponent(W.objURL);V.fromURL=encodeURIComponent(/^http/.test(W.fromURL)?W.fromURL:b.uncompile(W.fromURL))}return{host:T,query:V,isAsyn:true}}function D(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.op=(S.op||"");V.qs=BD.IMG.StatCof.fmq||"";var W=DataManager.getCurrentImgSetData();if(W){V.objURL=encodeURIComponent(W.objURL);V.fromURL=encodeURIComponent(/^http/.test(W.fromURL)?W.fromURL:b.uncompile(W.fromURL))}return{host:T,query:V,isAsyn:false}}function I(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.op=(S.op||"");V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function L(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.op=(S.op||"");V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function w(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.op=(S.op||"");V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function K(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.op=(S.op||"");V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function r(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.op=(S.op||"");V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function m(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.zoom="ctrlwheel";V.to=S.to;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function p(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.zoom=S.zoom;V.to=S.to;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function t(U,S){var T=BD.IMG.StatCof.host+"7.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.e=U;V.err="js";V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function z(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.pn=S.pn;V.url=S.url;V.saved=S.saved;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function O(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.url=S.url;V.saved=S.saved;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function o(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.xiangceLogin=S.xiangceLogin;V.login=S.login;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function C(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.bdshare=S.bdshare;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function v(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};var W=DataManager.getCurrentImgSetData();V.q=BD.IMG.StatCof.q;V.p=S.p;V.po=S.po;if(W){V.objURL=encodeURIComponent(W.objURL);V.fromURL=encodeURIComponent(/^http/.test(W.fromURL)?W.fromURL:b.uncompile(W.fromURL))}V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function P(U,S){var T=BD.IMG.StatCof.host+"5.gif";var W=DataManager.getCurrentImgSetData();var V={};V.q=BD.IMG.StatCof.q;V.p=S.p;V.type=S.type;if(W){V.u=encodeURIComponent(W.objURL)}V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function j(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.fp="detail";V.p=S.p;V.r=S.r;V.rq=S.rq;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:true}}function i(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.fp="detail";V.p=S.p;V.i=S.index;V.objurl=S.objURL;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function n(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.fp="detail";V.p=S.p;V.action=S.action;V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function G(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.fp="detail";V.p=S.p;V.type="show";V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}function x(U,S){var T=BD.IMG.StatCof.host+"5.gif";var V={};V.q=BD.IMG.StatCof.q;V.fp="detail";V.p=S.p;V.type=S.type||"";V.qs=BD.IMG.StatCof.fmq||"";return{host:T,query:V,isAsyn:false}}var Q={12:f,13:q,14:E,15:R,21:k,22:k,23:u,28:N,35:m,36:p,39:t,40:C,41:K,42:H,43:D,44:I,45:w,46:j,47:L,50:r,99:z,100:O,101:o,102:v,361:P,47:s,362:i,363:n,364:G,365:x,366:x,367:x,368:x};function y(S,V,X){var W=S||window.event,T;if(typeof X=="undefined"){X={}}var aa=Q[V];if(typeof aa!="undefined"){X.p=V;var ab=aa.apply(this,[W,X]);var Z=ab.host;var Y=ab.query;if(typeof Y=="object"){Y=b.json2Query(Y)}var U=ab.isAsyn;J(Z,Y);if(U){T=W.srcElement||W.target;W.returnValue=false;if(W.preventDefault){W.preventDefault()}setTimeout(function(){location.href=T.href},l)}}}function g(S,T){Q[S]=T}function B(){return h}return{send:y,setHandle:g,totalNum:B}})();window.statistic=BD.IMG.statistic;return c},["/static/common/lib/tangram/base/base.js","/static/searchdetail/ui/base/utils/utils.js","/static/searchdetail/ui/base/ParamsBus/ParamsBus.js"]);F.module("/static/searchdetail/ui/DownLoad/DownLoad.js",function(d,b){var c=d("/static/common/lib/tangram/base/base.js");var a=d("/static/searchdetail/ui/base/utils/utils.js");BD=window.BD||{};BD.IMG=BD.IMG||{};BD.IMG.DownLoad=b=function(f){var e={downLinkID:"downLink",containerID:"detailImg",tpl:'<a title="\u4e0b\u8f7d\u539f\u56fe" target="_self" href="#{downUrl}" class="download-btn #{downloaded}"></a>',downloadUrl:"http://image.baidu.com/i?tn=download&word=download&ie=utf8&fr=detail&url=#{url}"};this.options=c.extend(e,this.opts||{});this.timeout=null};c.extend(BD.IMG.DownLoad.prototype,{ini:function(){this.container=c.g(this.options.containerID);var e=c.g(this.options.downLinkID);var g,f=this;this.downLoadlink=e;if(e){c.on(e,"click",function(){if(c.dom.hasClass(e.parentNode,"unable")){e.href="javascript:void(0);";return false}f.update()})}},show:function(){if(this.currDOM.loadTime>0){this.setPosition(this.currDOM)}else{this.setPosition();this.hide();return}c.dom.removeClass(this.downLoadlink,"downloadedHide")},hide:function(){c.dom.addClass(this.downLoadlink,"downloadedHide")},render:function(f){var g,e=this;this.currDOM=f;var h=(f.downloaded||"0");g=f.objURL;g=c.string.format(this.options.downloadUrl,{url:encodeURIComponent(g)});this.downLoadlink&&(this.downLoadlink.href=g)},update:function(){},setPosition:function(g){if(!g){this.downLoadlink.style.cssText="";return}var i=g.imgsrc;var m=parseFloat(i.style.width),j=parseFloat(i.style.height),n=parseFloat(i.style.top),f=parseFloat(i.style.left);n=Math.max(n,0);var o=false,k=0,e=0;if(n>20){o=true}if(o){k=n-20;e=f+m-58}else{k=n+5;e=f+m-58}this.downLoadlink.style.top=Math.max(k,5)+"px";this.downLoadlink.style.left=e+"px"}});return b},["/static/common/lib/tangram/base/base.js","/static/searchdetail/ui/base/utils/utils.js"]);F.module("/static/searchdetail/ui/singleton/Effects/Effects.js",function(d,b){var c=d("/static/common/lib/tangram/base/base.js");var a=(function(){window.requestAnimationFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(j){window.setTimeout(j,1000/(c.browser.ie?30:60))}})();var h={linear:function(j){return 1},easeOutCubic:function(j){return(Math.pow((j-1),3)+1)},none:function(j){return 0}};animate=function(q,n,o,v,x){var k={},u=null,l=new Date().getTime(),m=h[v||"linear"],y=q.style;var r=Math.round(Math.random()*100000);if(typeof q!=="function"){for(var j in n){k[j]=f(q,j)}u={};for(j in n){u[j]=n[j]-k[j]}}else{u=[];var t=n.startArgs,w=n.endArgs;for(var p=0,s=t.length;p<s;p++){u[p]=w[p]-t[p]}}q.taskid=r;q.timeFixed=0;q.run=function(){var A=new Date().getTime()-l,B=Math.min(m(A/o),1);if(A>1300){q.timeFixed+=A;B=0;window.requestAnimationFrame(q.run)}else{if(!(Object.prototype.toString.call(u)==="[object Array]")){for(j in n){i(y,j,u[j]*B+k[j])}}else{var z=[];for(p=0;p<s;p++){z[p]=u[p]*B+t[p]}y.apply(null,z)}if(B!=0&&B<1&&r==q.taskid){window.requestAnimationFrame(q.run)}}};window.requestAnimationFrame(q.run)};function i(m,j,n){var l=m.objstyle||m;var k="";if(j.indexOf("idth")>-1||j.indexOf("eight")>-1||j.indexOf("margin")>-1||j.indexOf("padding")>-1||j.indexOf("offest")>-1||j.indexOf("left")>-1||j.indexOf("right")>-1||j.indexOf("bottom")>-1||j.indexOf("top")>-1){k="px"}l[j]=n+k;if(j==="opacity"){var o=Math.min(Math.max(Math.round(n*100),0),100);l.filter="alpha(opacity="+o+")";l[j]=o/100;if(o==100){l.filter=""}}}function f(k,j){var l=null;if(document.defaultView){l=document.defaultView.getComputedStyle(k,null).getPropertyValue(j)}else{j=j.replace(/\-(\w)/g,function(n,m){return m.toUpperCase()});if(k.currentStyle){l=k.currentStyle[j]}if(l==="auto"){l="0"}}return parseFloat(l)||0}function g(j){j=c.extend({vt:1,vf:f(this,"opacity")||f(this,"-moz-opacity")||0,callback:null,time:1000,type:"easeOutCubic"},j);this.style.display="";this.style.opacity=j.vf;animate(this,{opacity:j.vt},j.time,j.type,j.callback)}function e(j){j=c.extend({pt:null,pb:null,callback:null,time:1000,type:"easeOutCubic"},j);var k={};if(j.pt!=null&&j.pt!=undefined){k.top=j.pt}else{if(j.pb!=null&&j.pb!=undefined){k.bottom=j.pb}}if(j.pl!=null&&j.pl!=undefined){k.left=j.pl}else{if(j.pr!=null&&j.pr!=undefined){k.right=j.pr}}animate(this,k,j.time,j.type,j.callback)}return{animate:animate,opacity:g,position:e}})();b=window.Effects=a;return b},["/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js",function(e,c){var a=e("/static/searchdetail/ui/base/utils/utils.js");var d=e("/static/common/lib/tangram/base/base.js");BD.IMG.gconf=BD.IMG.gconf||{};window.sizeConfig={isEcom:BD.IMG.gconf.isEcom,ecomMargin:BD.IMG.gconf.ecomMargin,rightcontainerWidth:235,imgbprevWidth:41,imgbnextWidth:76,albumHeight:113,imgContainerStatus:1,imgMarginHeight:0,imgMarginWidth:0,imgContainerBottom:15,resizable:true,imgContainerTop:52};var b=BD.IMG.SizeHandle=(function(){var n=false;var k=false;var j={width:null,height:null},f={width:sizeConfig.rightcontainerWidth,height:null},l={width:null,height:null,imgContainerWidth:null,imgContainerHeight:null,imgContainerLeft:null,imgContainerTop:null,picwrapWidth:null,picwrapHeight:null},q={prevHeight:"100%",prevWidth:sizeConfig.imgbprevWidth,nextHeight:"100%",nextWidth:sizeConfig.imgbnextWidth},m={containerWidth:null,containerHeight:null};function g(){rpWidth=true;DetailFrame.resize()}function o(){var r=a.getBodySize();r.w=r.w;if(r.w<(750-17)){n=true}if(r.w<750){r.w=750}j.width=r.w;l.width=r.w-sizeConfig.rightcontainerWidth;m.containerWidth=r.w-sizeConfig.rightcontainerWidth}function i(r){var s=a.getBodySize();s.h+=(r||0);if(s.h<(370-17)){k=true}if(s.h<370){s.h=370}j.height=s.h;f.height=s.sh;l.height=s.h;m.containerHeight=sizeConfig.albumHeight}function h(){n=k=false;i();var r=n;o();if(r==true&&n==false){i(16)}else{if(r==false&&n==true){i(-16)}}l.imgContainerHeight=l.height-6-(m.containerHeight-5)*sizeConfig.imgContainerStatus-sizeConfig.imgContainerTop-sizeConfig.imgContainerBottom;l.imgContainerWidth=l.width-sizeConfig.imgbprevWidth-sizeConfig.imgbnextWidth;l.imgContainerLeft=sizeConfig.imgbprevWidth;l.imgContainerTop=sizeConfig.imgContainerTop+(d.browser.ie<=7?-2:0);l.picwrapWidth=l.imgContainerWidth;l.picwrapHeight=l.imgContainerHeight;return{body:j,right:f,container:l,imgb:q,isLeastH:k,isLeastW:n,album:m}}BD.IMG.detailImgSizeInit=function p(){var r=h()};return{get:h,showRP:g}})();c=b;return c},["/static/searchdetail/ui/base/utils/utils.js","/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/singleton/slide/slide.js",function(d,b){var c=d("/static/common/lib/tangram/base/base.js");var a=function(){var e;var g;var i;var h;var m;var j;var l;var n=18;function p(t,s){var w=m.distance;var q=m.distance;var v=e.children[0];if(v.children.length>0){v.children[0].style.display="none"}var u=l();var r=setInterval(function(){if(q>n){q=q-n;v.style.height=q+"px"}else{v.style.height="0px";clearInterval(r);e.removeChild(v);v.style.height=m.distance;var x=j();if(t&&t.pageNum==x){c.dom.addClass(v,"select");c.dom.removeClass(v,"noselect noImg noImgLast")}else{if(t){c.dom.addClass(v,"noselect");c.dom.removeClass(v,"select noImg noImgLast")}else{if(s==u){v.className="noImgLast"}else{v.className="noImg"}}}v.innerHTML=h(t);v.style.height=w+"px";v.id=m.imgIdStr+s;e.appendChild(v);i()}},8)}function f(t,s){var w=m.distance;var q=m.distance;var v=e.children[0];if(v.children.length>0){v.children[0].style.display="none"}var u=l();var r=setInterval(function(){if(q>n){q=q-n;v.style.width=q+"px"}else{v.style.width="0px";clearInterval(r);if(c.dom.contains(v,window.imgSetDOM)){document.body.appendChild(window.imgSetDOM)}e.removeChild(v);v.style.width=m.distance;var x=j();if(t&&t.pageNum==x){c.dom.addClass(v,"select");c.dom.removeClass(v,"noselect noImgLast noImg")}else{if(t){c.dom.addClass(v,"noselect");c.dom.removeClass(v,"select noImgLast noImg")}else{if(s==u){v.className="noImgLast"}else{v.className="noImg"}}}v.innerHTML=h(t);v.style.width=w+"px";v.id=m.imgIdStr+s;e.appendChild(v);i()}},8)}function k(x,u){var r=m.distance;var y=0;var v=e.children;var q=v[0];var s=v[v.length-1];var t=j();if(s.children.length>0){s.children[0].style.display="none"}s.style.height="0px";if(x&&x.pageNum==t){c.dom.addClass(s,"select");c.dom.removeClass(s,"noselect  noImgLast noImg")}else{c.dom.addClass(s,"noselect");c.dom.removeClass(s,"select  noImgLast noImg")}e.insertBefore(s,q);var w=setInterval(function(){if(r-y>n){s.style.height=y+"px";y=y+n}else{clearInterval(w);s.style.height=r+"px";s.id=m.imgIdStr+u;s.innerHTML=h(x);g()}},8)}function o(x,u){var r=m.distance;var y=0;var v=e.children;var q=v[0];var s=v[v.length-1];var t=j();if(s.children.length>0){s.children[0].style.display="none"}s.style.width="0px";if(x&&x.pageNum==t){c.dom.addClass(s,"select");c.dom.removeClass(s,"noselect noImgLast noImg")}else{c.dom.addClass(s,"noselect");c.dom.removeClass(s,"select noImgLast noImg")}e.insertBefore(s,q);var w=setInterval(function(){if(r-y>n){s.style.width=y+"px";y=y+n}else{clearInterval(w);if(c.dom.contains(s,window.imgSetDOM)){document.body.appendChild(window.imgSetDOM)}s.style.width=r+"px";s.id=m.imgIdStr+u;s.innerHTML=h(x);g()}},8)}return{pre:o,next:f,setAlbum:function(q){e=q},setPreCallBack:function(q){g=q},setNextCallBack:function(q){i=q},setSlideConfig:function(q){m=q},setCurrentPnFun:function(q){j=q},setGetListNumFun:function(q){l=q},setImgHtml:function(q){h=q}}};b=a;return b},["/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/singleton/AlbumModel/AlbumModel.js",function(c,e){var f=c("/static/searchdetail/ui/singleton/slide/slide.js");var b=c("/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js");var g=c("/static/searchdetail/ui/base/statistic/statistic.js");var h=c("/static/searchdetail/ui/base/utils/utils.js");var d=c("/static/common/lib/tangram/base/base.js");var i=d.g;var a=(function(){var p;var V;var k;var I;var m;var o;var E;var R=0;var C=0;var r=0;var A=0;var L=70;var T=70;var O=5;var W=32;var j=f();var n={topImgPN:"",isBrowse:false,isCanBrowse:true,isBrowsing:false,browseQueue:0};function M(Y){Y=Y||b.get();var X=Y.album.containerWidth-o.albumBtnWidth-o.albumMargin;C=(X)/o.thumbWidth;r=Math.ceil(C);o.displayPosition=Math.floor(C/2)+1}function u(X,Z,Y){return parseInt(X)-Z+1>o.displayPosition+o.preCacheMaxNum&&Z+Math.floor(Y)-o.nextCacheMaxNum>X}function U(Z,X,Y){}function y(aa,X){C=aa;var ab=Math.ceil(aa+o.preCacheMaxNum+o.nextCacheMaxNum-R);var Z=n.topImgPN;var Y=DataManager.getCurrentPN();if(ab>0){Z=Z+R;t(Z,ab);R=Math.ceil(C+o.preCacheMaxNum+o.nextCacheMaxNum);r=Math.ceil(C)}A=C;o.displayPosition=Math.floor(C/2)+1;i("smallImgs").style.width=X+"px";P(Y)}function t(ab,ae){var X;var Z=DataManager.getCurrentPN();if(ab>BD.IMG.minPn){X=DataManager.getImgsByPn(ab,null,ae)}else{X=DataManager.getImgsByPn(BD.IMG.minPn,null,ae)}for(var aa=0,Y=0;aa<ae;aa++,ab++){var ad=document.createElement("div");if(ab<BD.IMG.minPn||ab>p){ad.className="noImg"}else{if(ab==p){ad.className="noImgLast"}else{var ac=X[Y];Y++;if(ac.pageNum==Z){d.dom.removeClass(ad,"noselect");d.dom.addClass(ad,"select")}else{d.dom.removeClass(ad,"select");d.dom.addClass(ad,"noselect")}ad.innerHTML=s(ac);ad.title=ac.fromPageTitle.replace(/<.*?>/g,"")}}ad.id="pn_"+ab;V.appendChild(ad)}}function Q(){if(n.isBrowsing==true){return}if(n.topImgPN==BD.IMG.minPn-o.preCacheMaxNum){n.isBrowse=false;n.isCanBrowse=true;n.browseQueue=0;return}if(n.browseQueue!=0){n.browseQueue--}n.isBrowsing=true;if(n.topImgPN<=BD.IMG.minPn){j.pre(null,n.topImgPN-1);n.topImgPN--}if(n.topImgPN>BD.IMG.minPn){j.pre(DataManager.getImgByPN(n.topImgPN-1),n.topImgPN-1);n.topImgPN--}}function D(){if(n.isBrowsing==true){return}if(n.topImgPN+o.preCacheMaxNum+o.displayPosition*2>=p+3){n.isBrowse=false;n.isCanBrowse=true;n.browseQueue=0;return}if(n.browseQueue!=0){n.browseQueue++}n.isBrowsing=true;var X=n.topImgPN+o.preCacheMaxNum+r+o.nextCacheMaxNum;if(X>=p){j.next(null,X);n.topImgPN++}if(X<p){j.next(DataManager.getImgByPN(X),X);n.topImgPN++}}function z(){n.isCanBrowse=true;n.isBrowsing=false;if(n.topImgPN<=BD.IMG.minPn-o.preCacheMaxNum){if(k.currClass&&k.currClass!="preNone"){k.className="preNone";k.currClass="preNone";k.title="\u5df2\u7ecf\u662f\u7b2c\u4e00\u5f20\u56fe"}}if(I.currClass&&I.currClass!="nextNormal"){I.className="nextNormal";I.currClass="nextNormal";I.title=""}if(n.isBrowse||n.browseQueue!=0){if(n.browseQueue<0){D()}else{Q()}}else{v()}}function J(){n.isCanBrowse=true;n.isBrowsing=false;if(n.topImgPN+o.displayPosition*2+o.preCacheMaxNum>=p+3){if(I.currClass&&I.currClass!="nextNone"){I.className="nextNone";I.currClass="nextNone";I.title="\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u5f20\u56fe"}}if(k.currClass&&k.currClass!="preNormal"){k.className="preNormal";k.currClass="preNormal";k.title=""}if(n.isBrowse||n.browseQueue!=0){if(n.browseQueue<=0){D()}else{Q()}}else{v()}}function v(){var X=V.children;var Z=DataManager.getCurrentPN();var Y=DataManager.getCurrISPN();for(var aa=0,ad=X.length;aa<ad;aa++){var ac=X[aa];var ab=ac.id.replace(/pn_/g,"");if(ab==Z){d.dom.addClass(ac,"select");d.dom.removeClass(ac,"noselect");if(Y>=0){d.dom.addClass(ac,"list-image-active");ac.appendChild(window.imgSetDOM)}else{d.dom.removeClass(ac,"list-image-active")}}else{if(ab!=Z&&d.dom.hasClass(ac,"select")){d.dom.addClass(ac,"noselect");d.dom.removeClass(ac,"select list-image-active")}}}}function G(X){if(n.browseQueue!=0){return}if(n.isBrowse){return}n.isBrowse=true;if(X=="pre"){n.browseQueue=Math.floor(C);Q()}if(X=="next"){n.browseQueue=-Math.floor(C);D()}}function l(Z){var Z=Z||window.event;var Y=Z.target||Z.srcElement;if(E){clearTimeout(E)}var X=500;E=setTimeout(function(){var ad=a.topPn();var ab=[];var aa=(DataManager.getListNum()-ad-1)>3?3:(DataManager.getListNum()-ad-1);for(var ae=1;ae<aa+1;ae++){ab[ae]=DataManager.getImgByPN(ad+ae).objURL;var ac=new Image();ac.src=ab[ae]}},X)}function x(X){n.isBrowse=false;l(X)}function P(X){var Z=DataManager.getImgsByPn(parseInt(X),null,1);var Y=X-o.displayPosition-o.preCacheMaxNum+1;if(Z[0]&&Z[0].imgSet){Y+=(o.displayPosition<4?1:2)}if(Y<BD.IMG.minPn-o.preCacheMaxNum){Y=BD.IMG.minPn-o.preCacheMaxNum}if(Y+o.preCacheMaxNum+o.displayPosition*2>=p+2){Y=p+2-o.preCacheMaxNum-o.displayPosition*2}n.browseQueue=n.topImgPN-Y;if(Math.abs(n.browseQueue)<r){if(n.browseQueue>0){Q()}else{if(n.browseQueue<0){D()}}}else{n.topImgPN=Y;B(Y);n.browseQueue=0}}function B(Y,ae){Y=Y||n.topImgPN;ae=ae||R;var ab=DataManager.getCurrentPN();var Z,ag;if(Y>0){Z=DataManager.getImgsByPn(Y,null,ae)}else{Z=DataManager.getImgsByPn(0,null,ae)}ag=V.children;for(var ad=0,ac=0,aa=ag.length;ad<aa;ad++,Y++){var X=ag[ad];if(Y<BD.IMG.minPn||Y>p){X.className="noImg";X.innerHTML=""}else{if(Y==p){X.className="noImgLast";X.innerHTML=""}else{var af=Z[ac];ac++;if(af.pageNum==ab){d.dom.addClass(X,"select");d.dom.removeClass(X,"noselect")}else{d.dom.addClass(X,"noselect");d.dom.removeClass(X,"select")}X.innerHTML=s(af);X.title=af.fromPageTitle.replace(/<.*?>/g,"")}}X.id="pn_"+Y}n.browseQueue=0}function w(X){if(n.browseQueue!=0){return}var Z=0;var Y=X||window.event;if(Y.wheelDelta){Z=X.wheelDelta/120}else{if(Y.detail){Z=-X.detail/3}}if(Z&&Z>0){if(n.isCanBrowse&&n.browseQueue==0){n.isCanBrowse=false;Q()}}else{if(Z&&Z<0){if(n.isCanBrowse&&n.browseQueue==0){n.isCanBrowse=false;D()}}}if(Y.preventDefault){Y.preventDefault()}Y.returnValue=false;l(X)}function s(Y){var Z="";var X="";var ab=90;if(!!Y){if(Y.bdSetImgNum>0){X="class='isImg'";ab=90}var aa=h.zoomImg(Y.width,Y.height,ab);Z='<span class="thumb-arrow"></span><table '+X+'cellspacing="0"><tr><td align="center" valign="middle"><img name="'+Y.pageNum+'" tip="'+Y.fromPageTitle.replace(/<.*?>/g,"").replace(/"/g,"&quot")+'" style="width:'+aa.width+"px;height:"+aa.height+"px\" onload=\"this.style.display='inline';if(this.parentNode)this.parentNode.children[1].style.display='none';\" onerror=\"BD.IMG.smallImgErr(this);if(this.parentNode)this.parentNode.children[1].style.display='none';\" src=\""+(Y.largeTnImageUrl||Y.thumbURL)+'"><div class="albloading"></div></td></tr></table>'}return Z}function q(ac){var ac=ac||window.event;var ab=ac.target||ac.srcElement;if(ab!=V){if(ab.nodeName!="IMG"){var aa=ab.getElementsByTagName("IMG");if(aa.length==0){return}ab=aa[0]}var Y=parseInt(ab.name);var Z=DataManager.getImgByPN(Y);Z.tp=null;Z.nb=7;var X=(Z.bdSetImgNum>0?0:-1);if(m(Y,X)){g.send(ac,13,{nb:7})}}}function N(aa){var aa=aa||window.event;var X=aa.keyCode||aa.which;var Y=DataManager.getCurrentPN();var Z=DataManager.getListNum();if(aa.ctrlKey&&X==o.nexPageKey){if(Y<Z-1){if(window.SwitchPageTimer){clearTimeout(window.SwitchPageTimer)}window.SwitchPageTimer=setTimeout(function(){m(Y+1)},300)}if(aa.preventDefault){aa.preventDefault()}aa.returnValue=false}if(aa.ctrlKey&&X==o.prePageKey){if(Y>0){if(window.SwitchPageTimer){clearTimeout(window.SwitchPageTimer)}window.SwitchPageTimer=setTimeout(function(){m(parseInt(Y)-1)},300)}if(aa.preventDefault){aa.preventDefault()}aa.returnValue=false}}function H(){return n.topImgPN}function S(Y){o=d.object.clone(Y);V=i("imgList");k=i("slidePre");I=i("slideNext");j.setAlbum(V);j.setSlideConfig({distance:99,imgIdStr:"pn_"});j.setPreCallBack(z);j.setNextCallBack(J);j.setImgHtml(s);j.setCurrentPnFun(DataManager.getCurrentPN);j.setGetListNumFun(DataManager.getListNum);var X=DataManager.getCurrentPN();p=DataManager.getListNum();var Z=b.get();M(Z);if(X-o.preCacheMaxNum-o.displayPosition+1>BD.IMG.minPn-o.preCacheMaxNum){n.topImgPN=X-o.preCacheMaxNum-o.displayPosition+1}else{n.topImgPN=BD.IMG.minPn-o.preCacheMaxNum}if(n.topImgPN<=BD.IMG.minPn-o.preCacheMaxNum){k.className="preNone";k.currClass="preNone";k.title="\u5df2\u7ecf\u662f\u7b2c\u4e00\u5f20\u56fe"}else{k.className="preNormal";k.currClass="preNormal";k.title=""}if(n.topImgPN>=p+2-o.displayPosition*2-o.preCacheMaxNum){I.className="nextNone";I.currClass="nextNone";I.title="\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u5f20\u56fe"}else{I.className="nextNormal";I.currClass="nextNormal";I.title=""}d.on(k,"mouseout",x);d.on(k,"mouseup",x);d.on(k,"mouseover",function(){if(n.topImgPN!=BD.IMG.minPn-o.preCacheMaxNum){k.className="preHover";k.currClass="preHover";k.title=""}});d.on(k,"mouseout",function(){if(n.topImgPN!=BD.IMG.minPn-o.preCacheMaxNum){k.className="preNormal";k.currClass="preNormal";k.title=""}});d.on(k,"mousedown",function(ab){ab=ab||window.event;G("pre");if(ab.preventDefault){ab.preventDefault()}ab.returnValue=false});d.on(I,"mouseout",x);d.on(I,"mouseup",x);d.on(I,"mousedown",function(ab){ab=ab||window.event;G("next");if(ab.preventDefault){ab.preventDefault()}ab.returnValue=false});d.on(I,"mouseover",function(){var ab=DataManager.getCurrentPN();if(n.topImgPN<p-o.displayPosition-o.preCacheMaxNum){I.className="nextHover";I.currClass="nextHover";I.title=""}});d.on(I,"mouseout",function(){var ab=DataManager.getCurrentPN();if(n.topImgPN<p+2-o.displayPosition*2-o.preCacheMaxNum){I.className="nextNormal";I.currClass="nextNormal";I.title=""}});if(d.browser.firefox){d.on(V,"DOMMouseScroll",w)}else{d.on(V,"mousewheel",w)}d.on(V,"click",q);var aa=i("album");aa&&(aa.onselectstart=function(){return false})}function K(){if(Math.abs(n.browseQueue)>=r-BD.IMG.albumConf.displayPosition){return false}return true}return{init:S,browse:G,stopBrowse:x,scrollToPn:P,setSwitcher:function(X){m=X},isCanSwitch:K,reSizealbum:U,topPn:H,getImgeHtml:s,resize:y}})();e=window.Album=a;return e},["/static/searchdetail/ui/singleton/slide/slide.js","/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js","/static/searchdetail/ui/base/statistic/statistic.js","/static/searchdetail/ui/base/utils/utils.js","/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/singleton/ImgsetAlbum/ImgsetAlbum.js",function(g,e){var c=g("/static/searchdetail/ui/base/utils/utils.js");var b=g("/static/searchdetail/ui/singleton/slide/slide.js");var d=g("/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js");var f=g("/static/common/lib/tangram/base/base.js");var h=f.g;var a=(function(){var Y;var j;var I;var K;var H;var E;var k;var i=b();var p;var o=false;var n;var w=0;var T=0;var A=0;var r=0;var y=0;var L=99;var Q=5;var aa=32;var O;var W=100;var l={topImgPN:"",isBrowse:false,isCanBrowse:true,isBrowsing:false,browseQueue:0};function N(ad){ad=ad||d.get();var ab=ad.album.containerWidth-n.albumBtnWidth-n.imgsetBtnWidth-n.thumbWidth*3;var ac=n.thumbWidth;var ae=Math.floor((ab)/ac);r=A=Math.min(ae,n.imgsetMaxNum)}function X(ab){n=f.object.clone(ab);Y=h("isimgList");imgSetObj=h("isAlbum");window.imgSetDOM=imgSetObj;j=h("isSlidePre");I=h("isSlideNext");i.setAlbum(Y);i.setSlideConfig({distance:94,imgIdStr:"isPn_"});i.setPreCallBack(v);i.setNextCallBack(J);i.setImgHtml(t);i.setCurrentPnFun(DataManager.getCurrISPN);i.setGetListNumFun(DataManager.getCurrISListNum);N();f.on(j,"mousedown",function(ac){ac=ac||window.event;D("pre");if(ac.preventDefault){ac.preventDefault()}ac.returnValue=false});f.on(j,"mouseup",u);f.on(I,"mousedown",function(ac){ac=ac||window.event;D("next");if(ac.preventDefault){ac.preventDefault()}ac.returnValue=false});f.on(I,"mouseup",u);f.on(Y,"click",q);f.on(j,"mouseover",function(){if(l.topImgPN!=-n.preCacheMaxNum){j.className="preHover";j.currClass="preHover";j.title=""}});f.on(j,"mouseout",function(){if(l.topImgPN!=-n.preCacheMaxNum){j.className="preNormal";j.currClass="preNormal";j.title=""}});f.on(I,"mouseover",function(){var ac=DataManager.getCurrentPN();if(l.topImgPN+n.displayPosition*2+n.preCacheMaxNum<p){I.className="nextHover";I.currClass="nextHover";I.title=""}});f.on(I,"mouseout",function(){var ac=DataManager.getCurrentPN();if(l.topImgPN+n.displayPosition*2+n.preCacheMaxNum<p){I.className="nextNormal";I.currClass="nextNormal";I.title=""}});f.on(imgSetObj,"click",function(ac){ac=ac||window.event;if(ac.stopPropagation){ac.stopPropagation()}else{ac.cancelBubble=true}})}function m(ab){p=ab;if(p>=A){r=A}else{r=p}}function M(ab){}function D(ab){if(p<=r){return}if(l.browseQueue!=0){return}if(l.isBrowse){return}l.isBrowse=true;if(ab=="pre"){l.browseQueue=r;S()}if(ab=="next"){l.browseQueue=-r;C()}}function u(){l.isBrowse=false}function S(){if(l.isBrowsing==true){return}if(l.topImgPN<=-n.preCacheMaxNum){l.isBrowse=false;l.isCanBrowse=true;l.browseQueue=0;return}if(l.browseQueue!=0){l.browseQueue--}l.isBrowsing=true;if(l.topImgPN<=0){i.pre(null,l.topImgPN-1);l.topImgPN--}if(l.topImgPN>0){i.pre(DataManager.getImgByPN(w,l.topImgPN-1),l.topImgPN-1);l.topImgPN--}return}function C(){if(l.isBrowsing==true){return}if(l.topImgPN+n.displayPosition*2+n.preCacheMaxNum>=p){l.isBrowse=false;l.isCanBrowse=true;l.browseQueue=0;return}if(l.browseQueue!=0){l.browseQueue++}l.isBrowsing=true;var ab=l.topImgPN+T;if(ab>=p){i.next(null,ab);l.topImgPN++}if(ab<p){i.next(DataManager.getImgByPN(w,ab),ab);l.topImgPN++}return}function v(){l.isCanBrowse=true;l.isBrowsing=false;if(l.topImgPN==-n.preCacheMaxNum){if(j.currClass&&j.currClass!="preNone"){j.className="preNone";j.currClass="preNone";j.title="\u5df2\u7ecf\u662f\u7b2c\u4e00\u5f20\u56fe"}}if(I.currClass&&I.currClass!="nextNormal"){I.className="nextNormal";I.currClass="nextNormal";I.title=""}if(l.isBrowse||l.browseQueue!=0){S()}}function J(){l.isCanBrowse=true;l.isBrowsing=false;if(l.topImgPN+n.displayPosition*2+n.nextCacheMaxNum+n.preCacheMaxNum>=p){if(I.currClass&&I.currClass!="nextNone"){I.className="nextNone";I.currClass="nextNone";I.title="\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u5f20\u56fe"}}if(j.currClass&&j.currClass!="preNormal"){j.className="preNormal";j.currClass="preNormal";j.title=""}if(l.isBrowse||l.browseQueue!=0){C()}}function R(ab,ad){M(ab);if(p<=r){return}var ac=ad-n.displayPosition-n.preCacheMaxNum+1;ac=Z(ac);l.browseQueue=l.topImgPN-ac;if(Math.abs(l.browseQueue)<r){if(l.browseQueue>0){S()}else{if(l.browseQueue<0){C()}}}else{l.topImgPN=ac;z(ac);l.browseQueue=0}P()}function P(){if(l.topImgPN<=-n.preCacheMaxNum){j.className="preNone";j.currClass="preNone";j.title="\u5df2\u7ecf\u662f\u7b2c\u4e00\u5f20\u56fe"}else{j.className="preNormal";j.currClass="preNormal";j.title=""}if(l.topImgPN>=p-n.displayPosition*2-n.preCacheMaxNum){I.className="nextNone";I.currClass="nextNone";I.title="\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u5f20\u56fe"}else{I.className="nextNormal";I.currClass="nextNormal";I.title=""}}function x(){}function B(ae){var af=DataManager.getCurrISPN();var ad=DataManager.getISListNum(ae);m(ad);var ac=o;var ag=f.g("pn_"+ae);if(ad>1){w=ae;l.topImgPN=af;o=true;var ab=af-n.displayPosition-n.preCacheMaxNum+1;ab=Z(ab);l.topImgPN=ab;var ah=r+n.preCacheMaxNum+n.nextCacheMaxNum-T;if(ah<=0){z(ab)}else{z();ab=ab+T;s(ab,ah);T=r+n.preCacheMaxNum+n.nextCacheMaxNum}if(ag){f.dom.addClass(ag,"list-image-active");ag.appendChild(imgSetObj)}P()}else{if(ag){f.dom.removeClass(ag,"list-image-active");document.body.appendChild(imgSetObj)}l.topImgPN=-1;o=false}h("isSmallImgs").style.width=Math.max(r,0)*n.thumbWidth+"px";M(ae);if(ac!=o){DetailFrame.resize()}}function t(ab){var ac="";if(!!ab){var ad=c.zoomImg(ab.width,ab.height,89);ac='<span class="thumb-set-arrow"></span><table cellspacing="0"><tr><td align="center" valign="middle"><img name="'+ab.pageNum+'" title="'+(ab.fromPageTitle||"").replace(/<.*?>/g,"").replace(/"/g,"&quot")+'" style="width:'+ad.width+"px;height:"+ad.height+"px\" onload=\"this.style.display=	'inline';if(this.parentNode)this.parentNode.children[1].style.display='none';\" onerror=\"BD.IMG.smallImgErr(this);if(this.parentNode)this.parentNode.children[1].style.display='none';\" src=\""+(ab.largeTnImageUrl||ab.thumbURL)+'"><span class="albloading"></span></td></tr></table><span class="thumb-index-info"><span>'+(ab.pageNum+1)+"</span>/"+p+"</span>"}return ac}function G(){return false}function V(ac,ad){r=A=Math.floor(ac);p&&(r=Math.min(r,p));if(!o){y=r;h("isSmallImgs").style.width=Math.max(r,0)*n.thumbWidth+"px";return}var ag=h("isAlbum");var af=r+n.preCacheMaxNum+n.nextCacheMaxNum-T;var ae=l.topImgPN;var ab=DataManager.getCurrISPN();if(U(ab,ae,y)){ae=ab-n.displayPosition-n.preCacheMaxNum+1}ae=Z(ae);if(ae==l.topImgPN){if(af>0){ae=ae+T;s(ae,af);T=r+n.preCacheMaxNum+n.nextCacheMaxNum}}else{l.topImgPN=ae;z(ae)}y=r;h("isSmallImgs").style.width=Math.max(r,0)*(n.thumbWidth)+"px";P();x()}function z(ac,ai){ac=ac||l.topImgPN;ai=ai||T;var af=DataManager.getCurrentPN();var aj=DataManager.getCurrISPN();var ad,al;if(ac>0){ad=DataManager.getImgsByPn(af,ac,ai)}else{ad=DataManager.getImgsByPn(af,0,ai)}Y.style.display="none";al=Y.children;for(var ah=0,ag=0,ae=al.length;ah<ae;ah++,ac++){var ab=al[ah];if(ac<0||ac>=p){ab.className="noImg";ab.innerHTML=""}else{var ak=ad[ag];ag++;if(ak.pageNum==aj){ab.className="select"}else{ab.className="noselect"}ab.innerHTML=t(ak);ab.title=ak.fromPageTitle.replace(/<.*?>/g,"")}ab.id="isPn_"+ac}Y.style.display=""}function U(ab,ad,ac){return(ab-ad+1>n.displayPosition+n.preCacheMaxNum&&ad+Math.floor(ac)+n.nextCacheMaxNum>ab)}function s(ac,ae){var ad;var af=DataManager.getCurrentPN();var ai=DataManager.getCurrISPN();if(ac>0){ad=DataManager.getImgsByPn(af,ac,ae)}else{ad=DataManager.getImgsByPn(af,0,ae)}for(var ah=0,ag=0;ah<ae;ah++,ac++){var ab=document.createElement("div");if(ac<0||ac>=p){ab.className="noImg"}else{var aj=ad[ag];ag++;if(aj.pageNum==ai){ab.className="select"}else{ab.className="noselect"}ab.innerHTML=t(aj);ab.title=aj.fromPageTitle.replace(/<.*?>/g,"")}ab.id="isPn_"+ac;Y.appendChild(ab)}}function Z(ab){if(ab+n.displayPosition+n.preCacheMaxNum>p){ab=p-n.displayPosition-n.preCacheMaxNum}if(ab<-n.preCacheMaxNum){ab=-n.preCacheMaxNum}return ab}function q(af){var af=af||window.event;var ae=af.target||af.srcElement;if(ae!=Y){if(ae.nodeName!="IMG"){var ad=ae.getElementsByTagName("IMG");if(ad.length==0){return}ae=ad[0]}var ab=parseInt(ae.name);var ag=DataManager.getCurrentPN();var ac=DataManager.getImgByPN(ag,ab);ac.tp=null;ac.nb=9;if(k(ag,ab)){BD.IMG.statistic.send(af,13,{nb:9})}}if(af.stopPropagation){af.stopPropagation()}else{af.cancelBubble=true}}return{browse:D,stopBrowse:u,scrollToPn:R,reSizealbum:V,toggle:B,setSwitcher:function(ab){k=ab},init:X}})();e=window.ImgsetAlbum=a;return e},["/static/searchdetail/ui/base/utils/utils.js","/static/searchdetail/ui/singleton/slide/slide.js","/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js","/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/singleton/AlbumControl/AlbumControl.js",function(d,c){var b=d("/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js");var e=d("/static/searchdetail/ui/singleton/AlbumModel/AlbumModel.js");var a=d("/static/searchdetail/ui/singleton/ImgsetAlbum/ImgsetAlbum.js");var f=(function(){var k;var n;var i;var h=99;var l=5;var g=32;function o(p){i=p;m()}function j(q,p){if(k!=q){e.scrollToPn(q);a.toggle(q);a.scrollToPn(q,p)}else{if(p!=n){a.scrollToPn(q,p)}}k=q;n=p}function m(r){r=r||b.get();var s=i.albumBtnWidth;var p=r.album.containerWidth-s-i.albumMargin;var u=(p)/i.thumbWidth;e.resize(u,p);var q=p-i.thumbWidth*3-i.imgsetBtnWidth;var t=Math.min(i.imgsetMaxNum,Math.floor(q/i.thumbWidth));a.reSizealbum(t,q)}return{init:o,resizeAlbum:m,scrollToPn:j}})();c=window.AlbumControl=f;return c},["/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js","/static/searchdetail/ui/singleton/AlbumModel/AlbumModel.js","/static/searchdetail/ui/singleton/ImgsetAlbum/ImgsetAlbum.js"]);
F.module("/static/searchdetail/ui/singleton/DataManager/DataManager.js",function(a,d){var h=a("/static/searchdetail/ui/base/ParamsBus/ParamsBus.js");var g=a("/static/searchdetail/ui/base/utils/utils.js");var c=a("/static/common/lib/tangram/base/base.js");var e=h.getSearchConf();var b=g.trim;var i=c.g;var f=(function(){var O={};var P;var n;var z;var L;var D=-1;var p;var x;var k;var H=0;var B=4;var l={};var v=-1;var G;function A(){p=DataStore.getListNum();return p}function N(){return P}function C(){return D}function R(){return DataStore.getImgByPn(P,null,null,false)}function Q(){var T=DataStore.getImgSetListNum(P);T=(T||0);return T}function j(U){var T=DataStore.getImgSetListNum(U);T=(T||0);return T}function K(){var T;if(D>=0){T=DataStore.getImgSetImg(P,D,null,null,false)}else{T=DataStore.getImgByPn(P,null,null,false)}return T}function u(){var T=DataStore.getImgByPn(P,null,null,false);return T.is}function S(U,T){DataStore.getImgs(Math.max(U-14,0),30,null,null,false);P=U;var V=DataStore.getImgByPn(U,null,null,false);if(V.bdSetImgNum>0){D=(T>=0?T:0)}else{D=-1}}function I(U,X,V){var W;var T=[];var Y;if(V==true){W=function(ac,ae,ab,ad,aa){var Z,af;if(ab>=0){Z=ac[ae].imgSet.data;af=ab}else{Z=ac;af=ae}r(Z,af,ad,aa);M(ac,ae,ab);PageData.storeDataByPn(ae,ac[U])};T=[U,X,H,B]}if(X>=0){Y=DataStore.getImgSetImg(U,X,W,T,false)}else{Y=DataStore.getImgByPn(U,W,T,false)}return Y}function r(U,V,X,ad){for(var Z=0;Z<(parseInt(V)-X-5);Z++){var ab=U[Z];if(typeof ab!="undefined"&&typeof ab.imgsrc!="undefined"&&ab.imgsrc!=null){c.un(ab.imgsrc,"load",w);c.un(ab.imgsrc,"error",t);ab.imgsrc.removeAttribute("src");if(c.browser.ie){var T=document.createElement("DIV");T.appendChild(ab.imgsrc);T.innerHTML="";T=null}ab.imgsrc=null}}var ae=true;for(var aa=(parseInt(V)-X);aa<(parseInt(V)+ad+1);aa++){var ab=U[aa];if(!ab){continue}if(ab.bdSetImgNum>0&&ae&&aa!=V){v=aa;ae=false;if(ab.imgSet&&!ab.isImgSetCached){ab.isImgSetCached=true;setTimeout((function(af){return function(){r(af.imgSet.data,0,H,B)}})(ab),1)}}if(ab.objURL&&(typeof ab.imgsrc=="undefined"||ab.imgsrc==null)){var ab=U[aa];ab.imgsrc=document.createElement("IMG");ab.imgLoadStart=(new Date()).getTime();ab.loadState=-1;var ac=(function(){var af=aa;return function(){var ag=af;w(U[af])}})();var Y=(function(){var af=aa;return function(){var ag=af;t(U[af])}})();c.on(ab.imgsrc,"load",ac);c.on(ab.imgsrc,"error",Y);var W=U[aa].objURL;if(W&&!/^http/.test(W)){W=g.uncompile(W)}ab.imgsrc.src=W;if(ab.bdSetImgNum>0&&!ab.imgSet){DataStore.getImgSetData(ab.pageNum,M,[ab.pageNum],true)}}}}function w(T){if(T.ok){T.imgLoadEnd=(new Date()).getTime();T.ok(T.imgLoadStart,T.imgLoadEnd,T)}else{T.loadState=1;T.imgLoadEnd=(new Date()).getTime()}}function t(T){T.imgLoadEnd=(new Date()).getTime();if(T.err){T.err(T.imgLoadStart,T.imgLoadEnd)}else{T.loadState=0}}function m(V,W,U){var T=[];if(W!=null&&W>=0){T=DataStore.getImgSetImgs(V,W,U,null,null,false)}else{T=DataStore.getImgs(V,U,null,null,false)}return g.cloneObj(T)}function M(V,T){var U=V[T].imgSet;if(!U){return}if(v==T||T==P){r(U.data,D,H,B)}q(U.data,5);if(T==P){r(V[T].imgSet.data,D,H,B)}}function q(V,X){var U=0;for(;U<X;U++){var W=V[U];if(!W||!W.thumbURL){break}var T=new Image();T.src=W.thumbURL;W.tempLoadImg=T}}function y(){return P>=(p-1)&&D>=(Q()-1)}function J(){E(e);e.tab=e.tab==0?"":e.tab;if(e.tab!=""){BD.IMG.gconf.realPn=e.pn||0}P=e.pn||BD.IMG.gconf.realPn;p=parseInt(e.ln);var Y=BD.IMG.getHashConf();if(Y.length>0){Y[0]=Y[0].replace("pn","");var Z=parseInt(Y[0]);if(!isNaN(Z)&&Z>=BD.IMG.minPn&&Z<p){P=Z}}var ae=P;if(ae-14>=0){ae=ae-14}else{ae=0}x=ae;k=ae;e.tab=e.tab==0?"":e.tab;var ab=DataStore.getImgs(ae,30,null,null,false);if(DataStore.getListNum()<BD.IMG.gconf.realPn){P=0}if(DataStore.getListNum()==0){DataStore.setNoImg();return}if(P>DataStore.getListNum()){window.location.href="http://image.baidu.com/static/html/noresult.html"}var aa=Q();var T=parseInt(Y[1]);if(!isNaN(T)&&T>=0&&T<aa){D=T}if(P>=BD.IMG.minPn){PageData.requestData(0,P+1)}else{PageData.setListNum(DataStore.getListNum())}var V={};if(BD.IMG.gconf.realPn==P){if(b(BD.IMG.curObj.objURL)!==""){V=BD.IMG.curObj;V.pageNum=P;V.fromURL=b(V.fromURL);V.hoverURL=b(V.hoverURL);V.objURL=b(V.objURL);V.fromPageTitle=b(V.fromPageTitle);V.is=e.is;if(V.is&&V.is!="0,0"&&V.is!="0"){V.bdSetImgNum=DataStore.getImgByPn(V.pageNum).bdSetImgNum||0}else{V.bdSetImgNum=0}if(V.bdSetImgNum<=0){V.is="";V.bdSetImgNum=0}if(V.bdSetImgNum>0&&D<0){D=0}}else{V={thumbURL:"http://img.baidu.com/img/image/smallerror.gif",pageNum:P,hasLarge:2,objURL:"http://img.baidu.com/img/image/error.gif",fromURL:"http://img.baidu.com/img/image/error.gif",fromURLHost:"",currentIndex:"",width:318,height:73,type:"gif",filesize:"",bdSrcType:"0",di:0,is:"",fromPageTitle:BD.IMG.escapeHTML(i("kw").value),token:"",bdSetImgNum:0,bdSourceName:"",bdFromPageTitlePrefix:""}}DataStore.setImg(P,V);ab=DataStore.getImgs(ae,30,null,null,false)}if(Y!=""&&Y.length>=7){var ac=Y[2].replace("di","");var U=Y[3].replace("objURL","");if(Z>f.getListNum()){Z=f.getListNum()-1}for(var W=0,X=ab.length;W<X;W++){if(ab[W].pageNum==Z){if(ab[W].bdSetImgNum>0){var ad=K();if(ad.di!=ac||g.decodeURIComponent(g.uncompileURL(ad.objURL))!=g.decodeURIComponent(U)){DataStore.detailSearchImg()}}else{if(ab[W].di!=ac||g.decodeURIComponent(g.uncompileURL(ab[W].objURL))!=g.decodeURIComponent(U)){DataStore.detailSearchImg()}}}}}}function o(T){var V={z:"0",width:"0",height:"0",ic:"0",lm:"-1",face:"0"};if(!"lm" in T){T.lm="-1"}for(var W in V){var U=V[W];var X=(T[W]||"0");if(U!=X){return false}}return true}function s(T){G=T}function E(U){if(!G||G.length==0){BD.IMG.minPn=0;return}BD.IMG.minPn=(G?-G.length:0);var X=-G.length;for(var V=0,T=G.length;V<T;V++){var W=G[V];if(W.is=="0,0"){W.is=""}W.fromURL=b(W.fromURL);W.objURL=b(W.objURL);W.bdFromPageTitlePrefix="";W.pageNum=BD.IMG.minPn+V;W.fromPageTitle=b(W.fromPageTitle);O[X]=W;DataStore.setImg(X,W);X++}}return{init:J,getCurrentPN:N,resetCurrentPN:S,getImgByPN:I,getImgsByPn:m,getCurrentImgData:R,getCurrISPN:C,getCurrentImgSetData:K,getCurrISListNum:Q,getISListNum:j,getCurrIS:u,getListNum:A,isDefaultFilter:o,setExtraData:s,isLast:y}})();d=window.DataManager=f;return d},["/static/searchdetail/ui/base/ParamsBus/ParamsBus.js","/static/searchdetail/ui/base/utils/utils.js","/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/singleton/net/net.js",function(b,a){BD=window.BD||{};BD.IMG=BD.IMG||{};var c=(function(){function d(){var f;if(window.XMLHttpRequest){f=new XMLHttpRequest()}else{if(window.ActiveXObject){try{f=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(g){f=new ActiveXObject("Microsoft.XMLHTTP")}}}return f}function e(g,j,i,f){var h=d();f=(f||[]);if(i==true){h.onreadystatechange=function(){if(h.readyState!=4){return}Array.prototype.splice.call(f,0,0,h.responseText);j.apply(window,f)};h.open("GET",g,true);h.send(null)}else{h.open("GET",g,false);h.send(null);Array.prototype.splice.call(f,0,0,h.responseText);j.apply(window,f)}}return{getRequest:e}})();a=BD.IMG.Net=c;return a},[]);
F.module("/static/searchdetail/ui/singleton/DataStore/DataStore.js",function(require,exports){var utils=require("/static/searchdetail/ui/base/utils/utils.js");var Net=require("/static/searchdetail/ui/singleton/net/net.js");var ParamsBus=require("/static/searchdetail/ui/base/ParamsBus/ParamsBus.js");var T=require("/static/common/lib/tangram/base/base.js");BD=window.BD||{};BD.IMG=BD.IMG||{};var host="i";var G=T.g;var DataStore=(function(){var indexStore=[];var blocks=[];var BLOCK_SIZE=30;var listNum=0;var ie=ParamsBus.getGlobalConf("ie"),oe=ParamsBus.getGlobalConf("oe");var searchConf=ParamsBus.getSearchConf();function setNoImg(){var hashObj={thumbURL:"http://img.baidu.com/img/image/smallerror.gif",pageNum:0,objURL:"http://img.baidu.com/img/image/error.gif",fromURL:"http://img.baidu.com/img/image/error.gif",fromURLHost:"",currentIndex:"",width:318,height:73,type:"gif",filesize:"",bdSrcType:"0",di:0,is:"",fromPageTitle:BD.IMG.escapeHTML(G("kw").value),token:"",bdSetImgNum:0,bdSourceName:"",bdFromPageTitlePrefix:""};setImg(0,hashObj)}function detailSearchCallback(responseText){try{eval("var response="+responseText)}catch(e){var response=responseText}var keyTitle=utils.escapeHTML(BD.IMG.gconf.qword);var hashValue=utils.getHashConf();hashValue[0]=hashValue[0].replace("pn","");var hashDi=hashValue[2].replace("di","");var hashObjURL=utils.decodeURIComponent(hashValue[3].replace("objURL",""));var hashfromURL=utils.decodeURIComponent(hashValue[4].replace("fromURL",""));var hashWidth=utils.decodeURIComponent(hashValue[5].replace("W",""));var hashHeight=utils.decodeURIComponent(hashValue[6].replace("H",""));var hashToken=utils.decodeURIComponent((hashValue[7]||"T").replace("T","")),hashSize=utils.decodeURIComponent((hashValue[8]||"S").replace("S","")),hashType=utils.decodeURIComponent((hashValue[9]||"TP").replace("TP",""));var pn=hashValue[0];if(pn>DataManager.getListNum()){pn=0}if(response.imageInfo==1){window.location.href="http://image.baidu.com/static/html/noresult.html"}else{var imgObj=new Image();imgObj.src=hashObjURL;var hashObj={thumbURL:hashObjURL,pageNum:pn,objURL:hashObjURL,fromURL:hashfromURL,fromURLHost:"",currentIndex:"",width:hashWidth,height:hashHeight,type:hashType,filesize:hashSize,bdSrcType:"0",di:hashDi,fromPageTitle:keyTitle,token:hashToken,is:"",bdSetImgNum:0,bdSourceName:"",bdFromPageTitlePrefix:""};setImg(pn,hashObj)}}function detailSearchImg(){var hashValue=utils.getHashConf();hashValue[0]=hashValue[0].replace("pn","");var pn=hashValue[0];var hashDi=hashValue[2].replace("di","");var hashObjURL=utils.decodeURIComponent(hashValue[3].replace("objURL",""));var hashFromURL=utils.decodeURIComponent(hashValue[4].replace("fromURL",""));var queryParam={ct:"503316480",tn:"baiduimagedetailjson",ipn:"dj",word:BD.IMG.gconf.word,cl:searchConf.cl,lm:searchConf.lm,ie:ie,st:searchConf.st,z:searchConf.z,ic:searchConf.ic||"",s:searchConf.s||"",se:searchConf.se||"1",tab:searchConf.tab||"",width:searchConf.width||"",height:searchConf.height||"",face:searchConf.face||"",istype:searchConf.istype||"",di:hashDi,objURL:encodeURIComponent(hashObjURL),pn:pn,ln:1,fromURL:hashFromURL};var queryStr=utils.json2Query(queryParam);var url=host+"?"+queryStr+"&"+(new Date().getTime());Net.getRequest(url,detailSearchCallback,false)}function getImg(pn,callback,args,async){var data=indexStore[pn];if(data){args=(args||[]);var tempargs=args.concat();tempargs.unshift(indexStore);callback&&callback.apply(window,tempargs)}else{fetchResultData(pn,pn,{},callback,args,async)}if(!async){return indexStore[pn]}}function getSuitImg(pn,suitPn,callback,args,async){var suitData=getSuitData(pn,callback,args,async);if(!async){return suitData.data[suitPn]}}function getImgs(pn,num,callback,args,async){fetchResultData(pn,pn+num-1,{},callback,args,async);if(!async){var imgObjs=[];for(var i=pn;i<pn+num&&i<listNum;i++){imgObjs.push(indexStore[i])}return imgObjs}}function getSuitImgs(pn,suitPn,num,callback,args,async){var suitData=getSuitData(pn,callback,args,async);if(!async){var imgObjs=[];var data=suitData.data;for(var i=suitPn;i<suitPn+num&&i<suitData.listNum;i++){imgObjs.push(data[i])}return imgObjs}}function getSuitData(pn,callback,args,async){var tempCallback=function(){var imgobj=indexStore[pn];if(imgobj&&imgobj.bdSetImgNum>0){fetchImgObjAttrData(pn,"imgSet",{is:imgobj.is,pn:0,rn:60},callback,args,async)}else{args=(args||[]);var tempargs=args.concat();tempargs.unshift(indexStore);callback&&callback.apply(window,tempargs)}};var imgobj=getImg(pn,tempCallback,args,async);if(!async){return imgobj.imgSet}}function getListNum(){return listNum}function getSuitListNum(pn){var suitData=getSuitData(pn,null,null,false);return suitData?suitData.listNum:0}function storeData(startPn,requestBlocks,data){if(typeof data=="string"){try{eval("var tempData="+data)}catch(e){return}}else{var tempData=data}listNum=tempData.listNum;var imgIdList=[],mathList;for(var i=0;i<tempData.data.length-1;i++){var temp=tempData.data[i];if(temp.hoverURL&&(mathList=temp.hoverURL.match(/u=(\d+,\d+)/i))){imgIdList.push(mathList[1])}temp.fromURL=utils.trim(temp.fromURL);temp.objURL=utils.uncompileURL(utils.trim(temp.objURL));temp.fromPageTitle=utils.trim(temp.fromPageTitle);if(temp.bdSetImgNum<=0){temp.is=""}indexStore[temp.pageNum]=temp;PageData&&PageData.storeDataByPn(temp.pageNum,temp)}for(var i=0,len=requestBlocks.length;i<len;i++){blocks[requestBlocks[i]].state=2}if(imgIdList.length>0){setTimeout(function(){var length=Math.ceil(imgIdList.length/30);for(var i=0;i<length;i++){T.lang.eventCenter.dispatchEvent("SHOW_IMAGE_PROMOTION",{imageIds:imgIdList.slice(i*30,(i+1)*30)})}},10)}return blocks[requestBlocks[requestBlocks.length-1]]}function setImgObjAttribute(pn,attrName,data){try{eval("var temData="+data)}catch(e){var temData=data}var imgIdList=[],mathList;for(var i=0;i<temData.data.length-1;i++){var temp=temData.data[i];if(temp.hoverURL&&(mathList=temp.hoverURL.match(/u=(\d+,\d+)/i))){imgIdList.push(mathList[1])}temp.fromURL=utils.trim(temp.fromURL);temp.objURL=utils.uncompileURL(utils.trim(temp.objURL));temp.di=utils.trim(temp.di);temp.fromPageTitle=utils.trim(temp.fromPageTitle);temp.is=""}indexStore[pn][attrName]=temData;if(imgIdList.length>0){setTimeout(function(){var length=Math.ceil(imgIdList.length/30);for(var i=0;i<length;i++){T.lang.eventCenter.dispatchEvent("SHOW_IMAGE_PROMOTION",{imageIds:imgIdList.slice(i*30,(i+1)*30)})}},10)}return indexStore[pn]}function calcDataBlock(startPN,endPn,status){var tempblocks=[];var startBLock,endBlock;endPn=((listNum!=0&&endPn>listNum)?listNum:endPn);startBLock=Math.floor(startPN/BLOCK_SIZE);endBlock=Math.floor(endPn/BLOCK_SIZE);for(var i=startBLock,n=endBlock;i<=endBlock;i++){var blockStatus=(blocks[i]?blocks[i].state:0);if(blockStatus!=2){clearCallBack(blocks[i]);tempblocks.push(i)}}return tempblocks}function fetchResultData(startPN,endPn,querys,callback,args,async){var relateBlocks=calcDataBlock(startPN,endPn);args=(args||[]);if(relateBlocks.length==0){var tempargs=args.concat();tempargs.unshift(indexStore);callback&&callback.apply(window,tempargs);return}var startPn=-1;var rn=0;var requestBlocks=[];for(var i=0,len=relateBlocks.length;i<len;i++){var blockIndex=relateBlocks[i];var block=blocks[blockIndex];var state=(block?block.state:0);if(block==0||block==undefined){(startPn<0)&&(startPn=blockIndex*BLOCK_SIZE);rn++;blocks[blockIndex]={state:1};requestBlocks.push(blockIndex)}}bind(callback,relateBlocks,args);rn=rn*BLOCK_SIZE;querys.rn=rn;querys.pn=startPn;var url=getUrl(querys);var storeDataFun=function(data){return storeData(startPn,requestBlocks,data)};if(startPn>=0){fetchData(url,storeDataFun,callback,args,relateBlocks,async)}}function fetchImgObjAttrData(pn,attrName,querys,callback,args,async){args=(args||[]);if(indexStore[pn][attrName]){var tempargs=args.concat();tempargs.unshift(indexStore);callback&&callback.apply(window,tempargs);return}var url=getUrl(querys);var callBackObj={callBackFun:callback,callBackArgs:args};indexStore[pn].callBackObj=callBackObj;var storeDataFun=function(data){return setImgObjAttribute(pn,attrName,data)};fetchData(url,storeDataFun,callback,args,null,async)}function bind(callback,requestBlocks,args){var callBackObj={requestBlocks:requestBlocks,callBackFun:callback,callBackArgs:args};for(var i=0,len=requestBlocks.length;i<len;i++){var block=blocks[requestBlocks[i]];clearCallBack(block);block.callBackObj=callBackObj}}function checkRelateBlock(obj){var isStroedData=true;var callBackObj=((obj&&obj.callBackObj)||{});if(callBackObj&&callBackObj.requestBlocks){var requestBlocks=callBackObj.requestBlocks;for(var i=0,len=requestBlocks.length;i<len;i++){var block=blocks[requestBlocks];if(block!=2){isStroeData=false;break}}}return isStroedData}function clearCallBack(obj){if(!obj){return}var callBackObj=(obj.callBackObj||{});if(callBackObj&&callBackObj.requestBlocks){var requestBlocks=callBackObj.requestBlocks;var len=requestBlocks.length;for(var i=0;i<len;i++){var block=blocks[requestBlocks];block.callBackObj=null}}else{obj.callBackObj=null}}function fetchData(url,storeDataFun,callback,args,relateBlocks,async){var callbackFun;var handleMap={"true":function(){callbackFun=function(data){var storedObj=storeDataFun(data);if(checkRelateBlock(storedObj)){var args=(storedObj.callBackObj.callBackArgs||[]);var tempargs=args.concat();tempargs.unshift(indexStore);storedObj.callBackObj.callBackFun&&storedObj.callBackObj.callBackFun.apply(window,tempargs);clearCallBack(storedObj)}}},"false":function(){callbackFun=function(data){var storedObj=storeDataFun(data);if(storedObj.callBackObj){var args=(storedObj.callBackObj.callBackArgs||[]);var tempargs=args.concat();tempargs.unshift(indexStore);storedObj.callBackObj.callBackFun&&storedObj.callBackObj.callBackFun.apply(window,tempargs)}}}};handleMap[async]();Net.getRequest(url,callbackFun,async,[])}function getUrl(querys){var queryParam={};queryParam.tn="resultjson_com";queryParam.ipn="rj";queryParam.ct="201326592";queryParam.cl=searchConf.cl;queryParam.lm=searchConf.lm;queryParam.ie=ie;queryParam.oe=oe;queryParam.st=searchConf.st;queryParam.word=BD.IMG.gconf.word;queryParam.z=searchConf.z;queryParam.rn=30;queryParam.ic=searchConf.ic||"";queryParam.s=searchConf.s||"";queryParam.se=searchConf.se||"1";queryParam.tab=searchConf.tab||"";queryParam.width=searchConf.width||"";queryParam.height=searchConf.height||"";queryParam.face=searchConf.face||"";queryParam.istype=searchConf.istype||"";queryParam.qc=searchConf.qc||"";queryParam.nc=searchConf.nc||0;for(var i in querys){queryParam[i]=querys[i]}var queryStr=utils.json2Query(queryParam);var url="?"+queryStr+"&"+(new Date()).getTime();return url}function setImg(pn,imgobj){indexStore[pn]=imgobj}return{getImgByPn:getImg,getImgSetImg:getSuitImg,detailSearchImg:detailSearchImg,setNoImg:setNoImg,getImgs:getImgs,getImgSetData:getSuitData,getListNum:getListNum,getImgSetListNum:getSuitListNum,getImgSetImgs:getSuitImgs,setImg:setImg}})();exports=window.DataStore=DataStore;return exports},["/static/searchdetail/ui/base/utils/utils.js","/static/searchdetail/ui/singleton/net/net.js","/static/searchdetail/ui/base/ParamsBus/ParamsBus.js","/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/singleton/ZoomSupport/ZoomSupport.js",function(e,b){var d=e("/static/searchdetail/ui/base/statistic/statistic.js");var c=e("/static/common/lib/tangram/base/base.js");var a=function(){var f,l,g,n=0.1,k=false,h=0.25;function i(s){if(!s||s.__scrollBinded){return false}s.firstRate=s.zoomRate;s.firstWidth=s.style.width;s.firstHeight=s.style.height;if(s.addEventListener){s.addEventListener("DOMMouseScroll",t,true)}s.onmousewheel=t;s.__scrollBinded=true;function t(x){x=x||window.event;if(!x.ctrlKey){return true}var y=0,w,v=s.srcWidth,u=s.srcHeight;if(x.wheelDelta){y=x.wheelDelta}else{y=-x.detail}if(y>0){w=(parseFloat(s.style.width)||s.offsetWidth)*(1+h)/v;j(s,w,(parseFloat(s.style.left)||0)+(x.offsetX||x.layerX),(parseFloat(s.style.top)||0)+(x.offsetY||x.layerY),true);if(!s.__hasBigCtrlLogged){d.send(x||window.event,36,{to:"big",zoom:"ctrlwheel"});s.__hasBigCtrlLogged=true}}else{if(y<0){w=(parseFloat(s.style.width)||s.offsetWidth)*(1-h)/v;j(s,w,(parseFloat(s.style.left)||0)+(x.offsetX||x.layerX),(parseFloat(s.style.top)||0)+(x.offsetY||x.layerY),false);if(!s.__hasSmallCtrlLogged){d.send(x||window.event,36,{to:"small",zoom:"ctrlwheel"});s.__hasSmallCtrlLogged=true}}}if(x.preventDefault){x.preventDefault();x.stopPropagation()}else{x.cancelBubble=true;x.returnValue=false}}}function j(M,w,v,u,s){if(M.tagName!=="IMG"||((M.zoomRate-0.1<=0.00001)&&!s)||(M.roomRate>=10&&s)||M.__loaded!=true){return}DetailImg.lock();var A,y,C,B,K=parseInt(M.style.left),J=parseInt(M.style.top),D=100,G=(parseFloat(M.style.width)||M.offsetWidth),E=(parseFloat(M.style.height)||M.offsetHeight),L=M.srcWidth,I=M.srcHeight,z,H,t=M.parentNode.offsetWidth,x=M.parentNode.offsetHeight;if(s){l.overClass="over"}else{f.overClass="over"}if(w>10){w=10;f.overClass="normal";f.className="zoombtn zoomBig"}else{if((w-0.1)<0.000001){w=0.1;l.overClass="normal";l.className="zoombtn zoomSmall"}}z=w*L;H=w*I;newLeft=(z/G)*(K-v)+v;newTop=(z/G)*(J-u)+u;if(newLeft+z<D){newLeft=D-z}else{if(newLeft>t-D){newLeft=t-D}}if(newTop+H<D){newTop=D-H}else{if(newTop>x-D){newTop=x-D}}M.style.width=z+"px";M.style.height=H+"px";M.style.left=newLeft+"px";M.style.top=newTop+"px";M.__zoomed=true;M.__zoomForLog=true;M.zoomRate=w;c.g("rate").innerHTML=parseInt(w*100)+"%";M.style.cursor="url(//bs.baidu.com/adtest/feff9159f56cb2069041d660b484eb07.cur), move";M.setAttribute("title","\u53ef\u62d6\u52a8");c.G("srcPic").title=""}function r(t,x,s){if(!t){return}var w,u=150;function v(y,B){var E=t.children[0],A=(parseInt(E.style.left)||0),G=(parseInt(E.style.top)||0),H=E.offsetWidth,I=E.offsetHeight,D=t.offsetWidth/2,C=t.offsetHeight/2,z,K=E.offsetWidth/2,J=E.offsetHeight/2;if(B){y=1+y}else{y=1-y}z=H*y/E.srcWidth;if((A<D&&(A+H)>D)&&(G<C&&(G+I)>C)){}else{D=A+K;C=G+J}j(E,z,D,C,B)}f.onmousedown=function(z){clearInterval(w);v(h,true);w=setInterval(function(){v(n,true)},u);var y=t.children[0];if(y&&!y.__hasBigBtnLogged){d.send(z||window.event,36,{to:"big",zoom:"btn"});y.__hasBigBtnLogged=true}};l.onmouseup=l.onmouseout=f.onmouseup=f.onmouseout=function(){clearInterval(w);w=null};l.onmousedown=function(z){clearInterval(w);v(h,false);w=setInterval(function(){v(n,false)},u);var y=t.children[0];if(y&&!y.__hasSmallBtnLogged){d.send(z||window.event,36,{to:"small",zoom:"btn"});y.__hasSmallBtnLogged=true}}}function m(s){s=s||g.getElementsByTagName("img")[0];return s&&s.__loaded&&s.__zoomed}function o(y){if(!m()){return true}y=y||window.event;var x=g.getElementsByTagName("img")[0],s,t=0,z=(parseFloat(x.style.width)||x.offsetWidth),A=(parseFloat(x.style.height)||x.offsetHeight),v=y.clientX-14,u=y.clientY-47,w=x.srcWidth,B=x.srcHeight;if(y.wheelDelta){t=y.wheelDelta}else{t=-y.detail}if(t>0){s=z*(1+n)/w;j(x,s,v,u,true);if(!x.__hasBigWheelLogged){d.send(y||window.event,36,{to:"big",zoom:"wheel"});x.__hasBigWheelLogged=true}}else{if(t<0){s=z*(1-n)/w;j(x,s,v,u,false);if(!x.__hasSmallWheelLogged){d.send(y||window.event,36,{to:"small",zoom:"wheel"});x.__hasSmallWheelLogged=true}}}if(y.preventDefault){y.preventDefault();y.stopPropagation()}else{y.cancelBubble=true;y.returnValue=false}}function p(){DetailImg.unlock();l.overClass="over";l.className="zoombtn zoomSmall";f.overClass="over";f.className="zoombtn zoomBig";k=DataManager.isLast()}function q(v,w,u){f=document.getElementById(v);l=document.getElementById(w);g=document.getElementById(u);if(g.addEventListener){g.addEventListener("DOMMouseScroll",o,true)}g.onmousewheel=o;f.__baseClass="zoombtn zoomBig ";l.__baseClass="zoombtn zoomSmall ";var t=function(y){y=y||window.event;var x=y.srcElement||y.target;x.className=x.__baseClass+(x.overClass||"over")};var s=function(y){y=y||window.event;var x=y.srcElement||y.target;x.className=x.__baseClass};if(c.browser.ie){c.on(f,"mouseenter",t);c.on(l,"mouseenter",t);c.on(f,"mouseout",s);c.on(l,"mouseout",s)}else{c.on(f,"mouseover",t);c.on(l,"mouseover",t);c.on(f,"mouseout",s);c.on(l,"mouseout",s)}r(g,f,l)}return{init:q,ctrlZoomIt:i,resetButton:p}}();b=window.ZoomSupport=a;return b},["/static/searchdetail/ui/base/statistic/statistic.js","/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/singleton/DetailImg/DetailImg.js",function(c,e){var h=c("/static/searchdetail/ui/base/utils/utils.js");var d=c("/static/common/lib/tangram/base/base.js");var f=c("/static/searchdetail/ui/base/statistic/statistic.js");var a=c("/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js");var i=c("/static/searchdetail/ui/base/ParamsBus/ParamsBus.js");var k=c("/static/searchdetail/ui/singleton/ZoomSupport/ZoomSupport.js");var j=d.g;var l=h.zoom;var g=i.getSearchConf();var b=(function(){var al;var o;var w;var W;var K;var p;var r;var af;var U;var y;var Q;var N;var v={"38":true,"37":true};var M={"39":true,"40":true};var J;var V=0,Y=0;var ag=i.getGlobalConf("ie"),ai=i.getGlobalConf("oe");var au;var ao;var an;var am;var s;var ac=false;var X=1;var B='<table style="height:100%;width:100%;text-align:center;"><tr><td><img src="//bs.baidu.com/adtest/f064564c8b205987d42e45fd6be55429.gif" style="vertical-align:middle;position:relative;width:38px;height:38px;"></td></tr></table>';function ak(ay){ay=ay||a.get();al=ay.container;p.style.width=al.picwrapWidth+"px";p.style.height=al.picwrapHeight+"px";w.style.width=al.picwrapWidth+"px";w.style.height=al.picwrapHeight+"px";if(!Q.__zoomed){an.zoom(al.picwrapWidth-sizeConfig.imgMarginWidth,al.picwrapHeight-sizeConfig.imgMarginHeight);Q.zoom(al.picwrapWidth-sizeConfig.imgMarginWidth,al.picwrapHeight-sizeConfig.imgMarginHeight);an.middleY=an.style.top=Q.middleY=Q.style.top=(al.picwrapHeight-sizeConfig.imgMarginHeight*2-parseFloat(Q.style.height))/2+"px";an.middleX=an.style.left=Q.middleX=Q.style.left=(al.picwrapWidth-sizeConfig.imgMarginWidth*2-parseFloat(Q.style.width))/2+"px";j("rate").innerHTML=parseInt(Q.zoomRate*100)+"%";k.resetButton()}W.style.width=al.imgContainerWidth+"px";W.style.height=al.imgContainerHeight+"px";W.style.left=al.imgContainerLeft+"px";W.style.top=al.imgContainerTop+"px";af.style.width=al.width+"px";n();clearTimeout(am);am=setTimeout(function(){var aA="",az;if(o.hoverURL&&(az=o.hoverURL.match(/u=(\d+,\d+)/i))){aA=az[1];d.lang.eventCenter.dispatchEvent("SHOW_IMAGE_DETAIL",{imaId:aA,zoom:o.imgsrc.zoomRate})}else{d.lang.eventCenter.dispatchEvent("SHOW_IMAGE_DETAIL",{imaId:0,zoom:o.imgsrc.zoomRate})}},300)}function T(az){clearTimeout(am);clearTimeout(V);clearTimeout(Y);w.innerHTML="";V=0;au=o;o=az;var ay=Q;Q=o.imgsrc;R();ae();BD.IMG.curObj={thumbURL:az.thumbURL,objURL:az.objURL,fromURL:az.fromURL,width:az.width,height:az.height,type:az.type,filesize:az.filesize,bdSrcType:az.bdSrcType,di:az.di,fromPageTitle:az.fromPageTitle,token:az.token};if(ay){if(ay!==Q){ay.style.left="0";ay.zoomRate=ay.firstRate;ay.style.width=ay.firstWidth;ay.style.height=ay.firstHeight}else{ay.__zoomForLog=false}ay.__zoomed=false;ay.style.cursor="";ay.onmouseup=null;ay.removeAttribute("title")}k.resetButton()}function R(){if(!Q){return}Q.zoom=l;Q.srcWidth=o.width;Q.srcHeight=o.height;Q.zoom(al.picwrapWidth-sizeConfig.imgMarginWidth,al.picwrapHeight-sizeConfig.imgMarginHeight);Q.middleY=Q.style.top=(al.picwrapHeight-sizeConfig.imgMarginHeight*2-parseFloat(Q.style.height))/2+"px";Q.middleX=Q.style.left=(al.picwrapWidth-sizeConfig.imgMarginWidth*2-parseFloat(Q.style.width))/2+"px";H();s(Q);var ay=t();if(o.loadState==1){ay.ok(o.imgLoadStart,o.imgLoadEnd,o)}else{if(o.loadState==0){ay.err(o.imgLoadStart,o.imgLoadEnd);Z()}else{o.ok=ay.ok;o.err=ay.err;o.resetErrorData=Z}}}function ae(){if(o.loadState!=1&&o.loadState!=0&&!V){an.onload=function(){an.style.display=""};an.onerror=function(){if(an.src==o.largeTnImageUrl&&an.src!=o.thumbURL){an.src=o.thumbURL}};an.style.display="none";an.src=o.largeTnImageUrl||o.thumbURL;an.srcHeight=o.height;an.srcWidth=o.width;an.zoom(al.picwrapWidth-sizeConfig.imgMarginWidth,al.picwrapHeight-sizeConfig.imgMarginHeight);an.style.top=(p.offsetHeight-sizeConfig.imgMarginHeight*2-parseFloat(an.style.height))/2+"px";an.style.left=(p.offsetWidth-sizeConfig.imgMarginWidth*2-parseFloat(an.style.width))/2+"px";!V&&w.appendChild(an)}if(o.loadState!=1&&o.loadState!=0&&Q.width<Q.srcWidth){V=setTimeout(function(){ae()},500);return}clearTimeout(V);V=0;if(o.loadState!=0){if(!ap(Q,o,true)){o.loadTime=-2;o.imgElementW=Q.width;o.imgElementH=Q.height;if(!ap(Q,o,true,100)){Z();av();return}}else{o.loadTime=1}w.appendChild(o.imgsrc);var az="",ay;if(o.hoverURL&&(ay=o.hoverURL.match(/u=(\d+,\d+)/i))){az=ay[1];clearTimeout(am);am=setTimeout(function(){d.lang.eventCenter.dispatchEvent("SHOW_IMAGE_DETAIL",{imaId:az,zoom:o.imgsrc.zoomRate})},10)}else{clearTimeout(am);am=setTimeout(function(){d.lang.eventCenter.dispatchEvent("SHOW_IMAGE_DETAIL",{imaId:0,zoom:o.imgsrc.zoomRate})},10)}}else{Z();av()}Q.title="\u70b9\u51fb\u67e5\u770b\u6e90\u7f51\u9875";av()}function av(){if(o.loadTime*1<0){d.dom.addClass(j("headerrt"),"unable")}else{d.dom.removeClass(j("headerrt"),"unable")}if(j("phoneQrcode")){j("phoneQrcode").style.display="none"}}function E(ay){Y=setTimeout(function(){(Q&&ay>=0)&&(Q.__loaded=true);var az=an.parent||an.parentNode;if(az&&az==w){w.removeChild(an);an.removeAttribute("src")}},1000)}function I(ay){var aC={};aC.ct="503316480";aC.z=g.z;aC.tn="baiduimagedetail";aC.ipn="d";aC.word=BD.IMG.gconf.word;aC.cl=g.cl;aC.lm=g.lm;aC.st=g.st;aC.ie=ag;aC.pn=DataManager.getCurrentPN();aC.rn=g.rn;aC.di=DataManager.getCurrentImgData().di||"";aC.ln=g.ln||"";aC.fr=g.fr||"";aC.fmq=h.fmqDetailValueSet()||"";aC.ic=g.ic;aC.s=g.s;aC.se=g.se;aC.sme=g.sme;aC.tab=g.tab||"";aC.width=g.width||"";aC.height=g.height||"";aC.face=g.face;aC.is=DataManager.getCurrentImgData().is||"";aC.istype=g.istype;aC.nc=g.nc||0;aC.qc=g.qc||"";var az=g.qc||"";var aB=BD.IMG.json2Query(aC);var aA="http://image.baidu.com/i?"+aB+"#pn"+DataManager.getCurrentPN()+"&"+DataManager.getCurrISPN()+"&di"+o.di+"&objURL"+encodeURIComponent(o.objURL)+"&fromURL"+encodeURIComponent(o.fromURL)+"&W"+o.width+"&H"+o.height+"&T"+o.token+"&S"+o.filesize+"&TP"+o.type+"&qc"+az;return aA}function Z(){var az=o.largeTnImageUrl||o.thumbURL;var ay=h.zoomImg(o.width,o.height,220);w.innerHTML='<img src="'+az+'"><p style="position:relative;top:50%;margin-top:'+(ay.height/2+5)+'px;color:#898988;font-size:12px;">'+((o.height+o.width)<600?"":"\u539f\u56fe\u52a0\u8f7d\u5931\u8d25")+"</p>";Q=w.getElementsByTagName("img")[0];Q.zoom=l;Q.srcWidth=ay.width;Q.srcHeight=ay.height;Q.zoom(220,220);Q.style.top=(p.offsetHeight-sizeConfig.imgMarginHeight*2-parseFloat(Q.style.height))/2+"px";Q.style.left=(p.offsetWidth-sizeConfig.imgMarginWidth*2-parseFloat(Q.style.width))/2+"px";s(Q)}function A(aB){var aA=0,az=0;aA=aB.offsetTop;az=aB.offsetLeft;if(aB.offsetParent&&aB.offsetParent!=aB){var ay=A(aB.offsetParent);aA+=ay.top;az+=ay.top}return{top:aA,left:az}}function at(ay){if(p.currClass=="prePage"){return function(){P(ay,1)}}else{if(p.currClass=="nextPage"){return function(){ad(ay,2)}}}}function P(aB,az){var aB=aB||window.event;var aA=DataManager.getCurrentPN();var ay=DataManager.getCurrISPN();if(ay>0){ay=ay-1}else{aA=aA-1}if(aA>=BD.IMG.minPn){if(r(aA,ay)){f.send(aB,12,{tp:3,keyb:az})}}}function ad(aC,az){var aC=aC||window.event;var aB=DataManager.getCurrentPN();var ay=DataManager.getCurrISPN();var aA=DataManager.getCurrISListNum();if(ay>=0&&ay<aA-1){ay=parseInt(ay)+1}else{ay=-1;aB=parseInt(aB)+1}if(aB<y){if(r(aB,ay)){f.send(aC,12,{tp:3,keyb:az})}}}function D(){if(p.currClass=="prePage"){return}p.className="prePage";p.title="\u4e0a\u4e00\u5f20";p.currClass="prePage"}function q(){p.className="firstPage";p.title="\u7b2c\u4e00\u5f20";p.currClass="firstPage"}function O(){if(p.currClass=="nextPage"){return}p.className="nextPage";p.title="\u4e0b\u4e00\u5f20";p.currClass="nextPage"}function z(){p.className="lastPage";p.title="\u6700\u540e\u4e00\u5f20";p.currClass="lastPage"}function L(az){var az=az||window.event;var ay=az.keyCode||az.which;if(!az.ctrlKey&&v[ay]){return function(){P(az,3)}}if(!az.ctrlKey&&M[ay]){return function(){ad(az,4)}}}function H(){var aC=o.width+"&nbsp;&#215;&nbsp;"+o.height;if(o.filesize&&o.filesize!="0"){aC+="&nbsp,&nbsp;"+o.filesize+"KB"}if(o.type&&o.type.length>0){aC+="&nbsp,&nbsp;"+o.type.toUpperCase()}if(o.source_type&&o.source_type=="1"){aC+="&nbsp,&nbsp;\u56fe\u79cd<br/><a onclick='BD.IMG.statistic.send(event, 47);' target='_blank' href='http://player.baidu.com/Browser/landingPage/landingpage.html?tn=25' id='tzlink' >\u770b\u56fe\u5185\u5f71\u97f3\uff0c\u4e0b\u5f71\u97f3\u6d4f\u89c8\u5668</a>"}j("size").innerHTML=aC;j("rate").innerHTML=parseInt(Q.zoomRate*100)+"%";n();var az=DataManager.getCurrentPN();var ay=DataManager.getCurrISPN();u(az,ay);var aB=j("setWallPaper"),aA=j("setWallPaperFlash");if(o.width>=1024&&o.height>=640&&!/\.nipic\.com/.test(o.objURL)){aB&&(aB.style.display="");aA&&(aA.style.display="");f.send(null,365,{})}else{aB&&(aB.style.display="none");aA&&(aA.style.display="none")}if(aB){aB.setAttribute("data-url",o.objURL);aB.setAttribute("data-imgwidth",o.width);aB.setAttribute("data-imgheight",o.height)}}function n(){var aB=o.unCompileFromURL.indexOf("tieba.baidu.com")>=0?o.unCompileFromURL+(o.unCompileFromURL.indexOf("?")>=0?"&":"?")+"fr=image_tieba":o.unCompileFromURL;var aA=(o.fromPageTitle||o.fromPageTitleEnc||" ");if(aA.length>30){aA=aA.substring(0,30);if(o.fromPageTitleEnc>10){aA+="..."}}j("imgTitle").innerHTML='<a hidefocus="true" class="imgTitle" href="" onclick="BD.IMG.statistic.send(event, 15);" target="_blank" title="\u70b9\u51fb\u67e5\u770b\u6e90\u7f51\u9875"><div><span>'+o.bdFromPageTitlePrefix+aA+"</span></div></a>";var az=h.trim((o.fromURLHost||" ").replace("http://",""));if(az.length==0&&o.unCompileFromURL){var ay=o.unCompileFromURL.indexOf("http://")>-1?o.unCompileFromURL:("http://"+o.unCompileFromURL);az=ay.match(/http:\/\/([^\/]+)(\/|$)/i)[1]}j("imgSite").innerHTML='<a hidefocus="true" href="" onclick="BD.IMG.statistic.send(event, 15);" target="_blank" title="'+aB+'"><div>'+az+"</div></a>"}function ax(aA){var ay=o.bdSourceName;if(ay==""){reg=/[http,https]:\/\/([^\s]*)/;var az=aA.match(reg)[1];ay=ab(az)}else{ay=ab(ay)}return ay}function ab(az){var aA=al.detailImgWidth-605;var ay=Math.max(0,Math.floor(aA/15));if(az.length<=ay){az=az}else{if(az.length>ay){az=az.slice(0,ay)+"..."}else{az=az+"..."}}return az}function aj(aA,az,ay){if(aA<=0||az<=0){return true}if(!ay){ay=0}if(Math.abs(aA-az)>ay){return false}else{return true}}function ap(az,aA,aB,ay){ay=ay||1;if(!aj(az.width,aA.width,ay)){return false}if(!aj(az.height,aA.height,ay)){return false}return true}function t(){var aE=BD.IMG.StatCof.host+"6.gif?u="+o.objURL+"&f="+o.fromURL+"&hostfr=imgstat";var aD=o.objURL;var aF=BD.IMG.gconf.gbkword;var aA="z="+BD.IMG.gconf.z;var az=(new Date()).getTime();o.imgViewStart=az;var aH=true;var ay=o;var aC=h.fmqDetailValueSet();function aG(aI,aV,aZ){if(aH&&aZ.imgsrc){var aQ;var aO="";if(aZ.loadTime){if(aZ.loadTime==-2){aQ=-2;var aR=(aZ.imgElementW||aZ.imgsrc.width);var aX=(aZ.imgElementH||aZ.imgsrc.height);aO="&w="+aR+"&h="+aX+"&size="+(aZ.imgsrc.fileSize?aZ.imgsrc.fileSize:"")}else{aQ=aV-aI}}else{if(ap(aZ.imgsrc,aZ)){aQ=aV-aI}else{aQ=-2;aO="&w="+aZ.imgsrc.width+"&h="+aZ.imgsrc.height+"&size="+(aZ.imgsrc.fileSize?aZ.imgsrc.fileSize:"")}}var a0=aV-az;a0=a0<0?0:a0;var aJ=window.screen.width;var aP=window.screen.height;var aT=h.getBodySize();var a1=aT.w;var aL=aT.h;var aK=aZ.width;var aS=aZ.height;var aY=aZ.pageNum;var aN=parseInt(aZ.imgsrc.zoomRate*100);var aM=(BD.IMG.gconf.isEcom||rpWidth?1:0);var aW=navigator.userAgent.match(/(msie|opera|firefox|chrome)/i);aW=(aW&&aW[1]||"").toLowerCase();var aU="&if="+X+"&screenW="+aJ+"&screenH="+aP+"&viewW="+a1+"&viewH="+aL+"&imgW="+aK+"&imgH="+aS+"&zoomRate="+aN+"&isEcom="+aM+"&ua="+aW+"&qs="+aC+"&pn="+aY;X=0;var a2=window["__log__"+(new Date()).getTime()]=new Image();a2.src=aE+"&tm="+aQ+"&q="+aF+"&"+aA+"&viewtm="+a0+aU+aO+"&"+(new Date()).getTime();aH=false;ay.loadState=1;if(aD==Q.src){E(aQ)}}}function aB(aL,aK){if(aH){ay.loadState=0;if(aD==Q.src){clearTimeout(V);V=0;E(-1);Z()}var aI=aK-aL;var aJ=window["__log__"+(new Date()).getTime()]=new Image();aJ.src=aE+"&tm=-1&ltm="+aI+"&qs="+aC+"&q="+aF+"&"+aA+"&if="+X+"&"+(new Date()).getTime();X=0;aH=false}}return{ok:aG,err:aB}}function ar(){s=k.ctrlZoomIt;w=j("srcPic");W=j("imgContainer");K=j("detailImg");K.style.position="relative";p=j("picWrap");af=j("container");ao=j("kw");an=an||document.createElement("img");an.zoom=l;y=DataManager.getListNum();al=a.get().container;var aF=DataManager.getCurrentPN();if(d.browser.ie==6){var ay=d.g("imgbnext");var aA=d.g("imgbprev");d.on(ay,"mouseover",function(){ay.className=ay.children[0].className="over"});d.on(ay,"mouseout",function(){ay.className=ay.children[0].className="btn"});d.on(aA,"mouseover",function(){aA.className=aA.children[0].className="over"});d.on(aA,"mouseout",function(){aA.className=aA.children[0].className="btn"})}d.on(j("imgbnext"),"click",function(aG){ad(aG,14)});d.on(j("imgbprev"),"click",function(aG){P(aG,13)});d.on(j("saveBtn"),"click",function(aG){BD.IMG.statistic.send(aG,43)});d.on(j("downLink"),"click",function(aG){BD.IMG.statistic.send(aG,42)});j("report").onclick=aq;var aC=0,az=0;d.on(p,"mouseup",function(aL){aL=aL||window.event;if(aa()){if(aL.preventDefault){aL.preventDefault();aL.stopPropagation()}else{aL.cancelBubble=true;aL.returnValue=false}return false}ao.blur();var aJ=aL.target||aL.srcElement;if(aL.button==2){if(aJ&&aJ.tagName==="IMG"){f.send(aL,102,{po:"img"})}return true}var aH=p.getElementsByTagName("img")[0];if(aH&&!aH._unclick){}var aM=aL.srcElement||aL.target;if(aM&&aM.tagName&&aM.tagName.toLowerCase()=="img"){var aN=BD.IMG.curObj.fromURL;aN=(/^http/.test(aN)?aN:h.uncompile(aN));var aI=d.cookie.get("BAIDUID"),aK=Math.round((new Date()).getTime()/1000);aK=h.encodeTime(aK);if(!aI){aI=""}else{aI=aI.substring(0,6)}window.open("/i?tn=redirect&ipn=rdt&word=j&juid="+encodeURIComponent(aI)+"&sign="+encodeURIComponent(aK)+"&url="+encodeURIComponent(aN));var aG=DataManager.getCurrentImgData().isAspDianjing;BD.IMG.statistic.send(aL,15,{dianjing:aG})}});var aB=function(aI){var aI=aI||window.event;var aG=aI.keyCode||aI.which;var aH=aI.target?aI.target:aI.srcElement;if(!aI.ctrlKey&&(v[aG]||M[aG])&&aH.tagName.toUpperCase()!="INPUT"){if(aI.preventDefault){aI.preventDefault()}aI.returnValue=false}};var aD=function(aH){aH=aH||window.event;var aG;if(aH.srcElement){aG=aH.srcElement}else{aG=aH.target}if(aG.nodeName.toUpperCase()=="INPUT"){return true}else{return false}};var aE=0;d.on(document,"keydown",function(aH){if(aD(aH)){return true}if(!az){var aG=L(aH);az=setInterval(function(){aE++;if(aG instanceof Function){aG()}},800)}aB(aH)});d.on(document,"keypress",aB);d.on(document,"keyup",function(aH){if(aD(aH)){return true}if(aE==0){var aG=L(aH);if(aG instanceof Function){aG()}}clearInterval(az);az=0;aE=0;aB(aH)});if(d.browser.firefox){d.on(p,"DOMMouseScroll",G)}else{d.on(p,"mousewheel",G)}document.body.focus()}function G(ay){ay=ay||window.event;if(aa()){ay.preventDefault&&ay.preventDefault();ay.returnValue=false;return}var az=0;if(ay.wheelDelta){az=ay.wheelDelta/240}else{if(ay.detail){az=-ay.detail/6}}if(az&&az>0){P(ay,6)}else{if(az&&az<0){ad(ay,7)}}if(ay.preventDefault){ay.preventDefault()}ay.returnValue=false}function aw(){var aC=DataManager.getCurrentPN();var aE=g.sme*1||0;var aD=0;var aA={};aA.tn="baiduimage";aA.ipn="r";aA.ct="201326592";aA.fmq=h.fmqDetailValueSet();if(g.fr==""||g.fr==undefined){g.fr=""}aA.cl=g.cl;aA.lm=g.lm;aA.st=g.st;aA.fr=g.fr;aA.ie=ag;aA.pv=g.pv||"";aA.ic=g.ic||"";aA.z=g.z;aA.se=g.se||"";aA.word=BD.IMG.gconf.word;var aB=g.s||"";aA.sme=aE;aA.pn=0;aA.ln=g.ln;aA.tab=g.tab||"";var ay=g.width||"";var aH=g.height||"";aA.face=g.face||"";aA.fb=g.fb||"";aA.istype=g.istype||"";aA.realfm="detail";aA.nc=g.nc||1;var az=g.qc||"";var aG="";aG=("#pn="+aD+"&width="+ay+"&height="+aH+"&qc="+az+"&s="+aB);var aF=h.json2Query(aA);j("backToRsLnk").href="/i?"+aF+aG;j("imgPnNum").innerHTML="\u7b2c"+(aC*1+1-BD.IMG.minPn)+"\u5f20"}function u(ay,az){if(j("report").reportAble!="#pn"+ay+"&"+az){j("report").style.cursor="pointer"}}function aq(aA){aA=aA||window.event;if(this.reportAble==location.hash){return false}else{this.reportAble=location.hash;this.style.cursor="default";this.style.textDecoration="none";var ay="http://tousu.baidu.com/image/add";var az=DataManager.getCurrentImgSetData();this.href=ay+"?imagename="+BD.IMG.gconf.gbkword+"&imageurl="+az.objURL;f.send(aA,102,{po:"report"})}}function S(){return au}function ah(az,ay){ad(az,ay)}function m(){ac=true}function C(){ac=false}function aa(){return ac}return{setImgSwitcher:function x(ay){r=ay},init:ar,resizeDetailSize:ak,resetImgData:T,getLastImgObj:S,reportPic:aq,forward:ah,lock:m,unlock:C}})();e=window.DetailImg=b;return e},["/static/searchdetail/ui/base/utils/utils.js","/static/common/lib/tangram/base/base.js","/static/searchdetail/ui/base/statistic/statistic.js","/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js","/static/searchdetail/ui/base/ParamsBus/ParamsBus.js","/static/searchdetail/ui/singleton/ZoomSupport/ZoomSupport.js"]);
F.module("/static/searchdetail/ui/singleton/DragSupport/DragSupport.js",function(b,a){var c=function(){var f,e,i=10,g="url(//bs.baidu.com/adtest/feff9159f56cb2069041d660b484eb07.cur), move";function d(j){if(!j){return false}var p,o,t,s,n=j.children[0],q=false;var k=function(u){u=u||window.event;if(u.stopPropagation){u.stopPropagation()}else{u.cancleBubble=true}};j.onmousedown=function(v){n=j.children[0];v=v||window.event;var u=v.srcElement||v.target;if(u!==n||!n.__zoomed){return true}n._unclick=true;p=v.clientX;o=v.clientY;t=p-(parseInt(n.style.left)||0);s=o-(parseInt(n.style.top)||0);if(document.addEventListener){document.addEventListener("mousemove",l,true);n.onmouseup=m;v.stopPropagation();v.preventDefault()}else{n.setCapture();n.attachEvent("onmousemove",l);n.attachEvent("onmouseup",m);v.cancelBubble=true;v.returnValue=false}};function l(w){if(!n){return true}n.style.cursor=g;w=w||window.event;var v=w.clientX-t,u=w.clientY-s;n.style.left=v+"px";n.style.top=u+"px";if(!q){q=(Math.abs(w.clientX-p)>i)||(Math.abs(w.clientY-o)>i)}if(w.preventDefault){w.preventDefault()}else{w.returnValue=false}return false}j.onmouseout=function(v){v=v||window.event;var u=v.toElement||v.relatedTarget;if(u!==n&&u!==j&&q){r();document.onmousedown=function(w){j.onmouseup=null;document.onmousedown=null};j.onmouseup=function(w){w=w||window.event;if(w.stopPropagation){w.stopPropagation()}else{w.cancelBubble=true}j.onmouseup=null}}};function r(){if(document.removeEventListener){document.removeEventListener("mousemove",l,true);n.onmouseup=null}else{if(n.detachEvent){n.releaseCapture();n.detachEvent("onmousemove",l);n.detachEvent("onmouseup",m)}}if(!n.__zoomed){n.style.cursor=""}q=false;if(n.__zoomed){n.onmouseup=k}else{n.onmouseup=null}}function m(v){v=v||window.event;var u=v.srcElement||v.target;if(u.__zoomed){if(v.stopPropagation){v.stopPropagation();v.preventDefault()}else{v.cancelBubble=true;v.returnValue=false}}r()}}function h(j){f=j;e=document.getElementById(j);d(e)}return{init:h}}();a=c;return a},[]);
F.module("/static/searchdetail/ui/singleton/DetailFrame/DetailFrame.js",function(e,c){var d=e("/static/common/lib/tangram/base/base.js");var f=d.g;var b=e("/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js");var a=function(){var k,u,G,K,B,O,t,j,P=500,y=330,Q="position",E,g,J=0,v,A=0,N=0,n,h,D={time:1500,timer:null,entertime:4000},m=0;xx=0,yy=0;function r(R){R=(R||b.get());if(R.container.width<800){f("headerrt").style.display="none"}else{if(R.container.width<960){f("headerrt").style.display="block";d.dom.addClass("headerrt","w960");d.dom.removeClass("headerrt","wfull")}else{f("headerrt").style.display="block";d.dom.addClass("headerrt","wfull");d.dom.removeClass("headerrt","w960")}}k.style.width=(R.body.width-R.right.width)+"px";u.style.width=R.body.width+"px";u.style.height=R.body.height+"px";K.style.height=R.right.height+"px";K.style.width=R.right.width+"px";K.style.left=k.style.width;if(d.browser.ie==6||d.browser.ie==7){K.style.left=parseInt(k.style.width)-1+"px"}B.style.width=R.container.width+"px";B.style.height=R.container.height+"px";t.style.width=R.imgb.prevWidth+"px";O.style.width=R.imgb.nextWidth+"px";o(R);DetailImg.resizeDetailSize(R);AlbumControl.resizeAlbum(R);G=d.object.extend({},R.body)}function p(U){var T=0,S=0;T=U.offsetTop;S=U.offsetLeft;if(U.offsetParent&&U.offsetParent!=U){var R=p(U.offsetParent);T+=R.top;S+=R.top}return{top:T,left:S}}function w(R){R=R||window.event;xx=R.clientX+document.body.scrollLeft;yy=R.clientY+document.body.scrollTop}function q(){if(xx>parseInt(B.style.width)/3){if(!E){E=true;Effects.opacity.call(t,{vt:0})}}else{if(E===undefined||E){E=false;Effects.opacity.call(t,{vt:1})}}window.requestAnimationFrame(q)}function i(){}function H(){}function I(){j.style.bottom=((d.browser.ie==6)?-124:-118)+"px";h.title="\u5c55\u5f00\u5bfc\u822a\u6761";d.dom.removeClass(h,"harrow");d.dom.addClass(h,"farrow")}function C(){j.style.bottom=((d.browser.ie==6)?-8:0)+"px";h.title="\u6536\u8d77\u5bfc\u822a\u6761";d.dom.removeClass(h,"farrow");d.dom.addClass(h,"harrow")}function l(R){if(sizeConfig.imgContainerStatus!=R&&(R==0||R==1)){sizeConfig.imgContainerStatus=R;var S=b.get();r(S);DetailImg.resizeDetailSize(S)}}function x(R){N=R;if(N==1){C();l(1)}if(N==-1){I();l(0)}}function o(R){document.body.style.overflowX=R.isLeastW?"auto":"hidden"}var s;function M(){if(n+parseInt(B.style.height)<=parseInt(K.style.height)){return n}else{return parseInt(K.style.height)-parseInt(B.style.height)}}function z(){var R=document.documentElement.scrollTop+document.body.scrollTop;if(n!=R){n=R;clearTimeout(s);s=setTimeout(function(){var S=b.get();r(S);DetailImg.resizeDetailSize(S);if(d.browser.ie){Effects.position.call(B,{vt:0,pt:M(),time:500})}else{B.style.top=M()+"px"}},40);if(!d.browser.ie){B.style.top=M()+"px"}}if(!d.browser.firefox){window.requestAnimationFrame(z)}}function Q(R){j.style.opacity=k.style.opacity=1;j.style.filter=k.style.filter="";Q=R;return Q}function L(T){k=f(T.header);u=document.body;K=f(T.right);B=f(T.container);t=f("imgbprev");O=f("imgbnext");h=f("albarrow");j=f("albumContainer");C();K.style.display="block";var S=b.get();d.on(u,"mouseover",w);d.on(u,"mousemove",w);H();window.requestAnimationFrame(q);if(d.browser.firefox){window.onscroll=z}else{window.requestAnimationFrame(z)}d.on(window,"resize",function(){sizeConfig.resizable=false;var V=b.get();if(!G||Math.abs(V.body.width-G.width)>5||Math.abs(V.body.height-G.height)>2){r(V)}a.fixScroll(V)});var U=setTimeout(function(){x(-1)},D.entertime);var R=function(V){clearTimeout(U);U=null;d.un(f("albumContainer"),"click",R)};d.on(f("albumContainer"),"click",R);d.on(h,"click",function(V){if(d.dom.hasClass(h,"farrow")){x(1);statistic.send(V,47,{fr:0})}else{x(-1);statistic.send(V,47,{fr:1})}r()});if(d.browser.ie==6){d.on(h,"mouseover",function(){if(d.dom.hasClass(h,"farrow")){d.dom.addClass(h,"farrowover")}else{d.dom.addClass(h,"harrowover")}});d.on(h,"mouseout",function(){d.dom.removeClass(h,"harrowover");d.dom.removeClass(h,"farrowover")})}}return{resize:r,init:L,hideAlbum:I,albumLock:x,changeContainerStatus:l,fixScroll:o,showtype:Q}}();c=window.DetailFrame=a;return c},["/static/common/lib/tangram/base/base.js","/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js"]);
F.module("/static/searchdetail/ui/singleton/ImgMediator/ImgMediator.js",function(d,f){var c=d("/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js");var e=d("/static/common/lib/tangram/base/base.js");var a=d("/static/searchdetail/ui/DownLoad/DownLoad.js");var g=d("/static/searchdetail/ui/base/utils/utils.js");var e=d("/static/common/lib/tangram/base/base.js");var b=d("/static/common/ui/yunXiangCe/yunXiangCe.js");var i;var h=e.g;var j=(function(){var q;var o={};function n(t,s){if(!Album.isCanSwitch()){return false}var w=DataManager.getCurrentPN();var r=DataManager.getCurrISPN();var v=h("pn_"+w);if(v){e.dom.addClass(v,"noselect");e.dom.removeClass(v,"select noImgLast noImg ")}if(v&&w!==t){e.dom.removeClass(v,"list-image-active")}if(h("isPn_"+r)){h("isPn_"+r).className="noselect"}DataManager.resetCurrentPN(t,s);r=DataManager.getCurrISPN();var u=DataManager.getImgByPN(t,r,true);u.objURL=(/^http/.test(u.objURL)?u.objURL:g.uncompile(u.objURL));u.unCompileFromURL=(/^http/.test(u.fromURL)?u.fromURL:g.uncompile(u.fromURL));if(u){m(u);b.update({title:u.fromPageTitleEnc||"",objURL:u.objURL});i.render(u)}return true}function m(v){clearTimeout(q);var x=DataManager.getCurrentPN();var s=DataManager.getCurrISPN();var u,w,B,y,r,C,t,D,z;if(s!=-1){u=DataManager.getCurrentImgSetData()}else{u=DataManager.getCurrentImgData()}w=encodeURIComponent(u.objURL);B=encodeURIComponent(u.fromURL);y=u.di;r=u.width;C=u.height;t=u.token;D=u.filesize;z=u.type;var A=h("pn_"+x);if(A){e.dom.addClass(A,"select");e.dom.removeClass(A,"noselect  noImgLast noImg")}if(h("isPn_"+s)){h("isPn_"+s).className="select"}q=setTimeout(function(){window.location.hash="pn"+x+"&"+s+"&di"+y+"&objURL"+w+"&fromURL"+B+"&W"+r+"&H"+C+"&T"+t+"&S"+D+"&TP"+z},1000);DetailImg.resetImgData(v);AlbumControl.scrollToPn(x,s);BD.IMG.curObj={thumbURL:v.thumbURL,objURL:v.objURL,fromURL:v.unCompileFromURL,width:v.width,height:v.height,type:v.type,filesize:v.filesize,bdSrcType:v.bdSrcType,di:v.di,fromPageTitle:v.fromPageTitle,token:v.token};if(o["switch"]){o["switch"].call(window)}return true}function p(){Album.setSwitcher(n);ImgsetAlbum.setSwitcher(n);DetailImg.setImgSwitcher(n);i=new a();i.ini();if(BD.IMG.minPn<0){var s=DataManager.getCurrentPN();var r=-1}else{var s=DataManager.getCurrentPN();var r=DataManager.getCurrISPN()}n(s,r);if(DataStore.getListNum()==0){h("pn_0").innerHTML='<table cellspacing="0"><tr><td align="center" valign="middle"><img name="" title="" style="width:87px;height:32px;" onload="this.style.display=	\'inline\'" onerror="BD.IMG.smallImgErr(this)" src="//bs.baidu.com/adtest/44be7cf03731c323142ec22b0b544452.gif"></tr></table>'}DetailFrame.resize()}function l(r,s){o[r]=s}function k(r){delete o[r]}return{switcher:n,setDetail:m,init:p,addEvent:l,fireEvent:k}})();f=window.ImgMediator=j;return f},["/static/searchdetail/ui/singleton/sizeHandle/sizeHandle.js","/static/common/lib/tangram/base/base.js","/static/searchdetail/ui/DownLoad/DownLoad.js","/static/searchdetail/ui/base/utils/utils.js","/static/common/lib/tangram/base/base.js","/static/common/ui/yunXiangCe/yunXiangCe.js"]);
F.module("/static/searchdetail/ui/singleton/PageData/PageData.js",function(require,exports){var utils=require("/static/searchdetail/ui/base/utils/utils.js");var p=require("/static/searchdetail/ui/base/statistic/statistic.js");var Net=require("/static/searchdetail/ui/singleton/net/net.js");var ParamsBus=require("/static/searchdetail/ui/base/ParamsBus/ParamsBus.js");BD=window.BD||{};BD.IMG=BD.IMG||{};BD.IMG.PagaData=(function(){var dataStore=[];var dataStoreEndIndex=0;var requestEndIndex=-1;var listNum=0;var REQUEST_IMG_COUNT=100;var ie=ParamsBus.getGlobalConf("ie"),oe=ParamsBus.getGlobalConf("oe");var urlSign=new Date()*Math.random();var callBackSign=new Date()*Math.random();var callBackFun;var ini=function(){};var fetchData=function(startIndex,endIndex,calcBack){startIndex=Math.min(dataStore.length,startIndex);endIndex=Math.max(endIndex,0);requestData(startIndex,endIndex,calcBack)};var getPageData=function(startPn,endPn,callBack,async){var getDataCallBack=function(data){data=data.dataStore.slice(startPn,endPn);data.listNum=listNum;callBack.apply(window,[data])};callBackFun=getDataCallBack;fetchData(startPn,endPn,async)};var requestData=function(startIndex,endIndex){var len=dataStore.length;endIndex=Math.min(endIndex,2000);if(requestEndIndex>=endIndex){if(dataStoreEndIndex>=endIndex){!callBackFun?BD.IMG.publish("model.pageDataStored",[{start:startIndex,end:listNum-1,dataStore:dataStore}]):callBackFun.apply(window,[{start:startIndex,end:listNum-1,dataStore:dataStore}])}return}callBackSign=new Date()*Math.random();var hashJson;hashJson=utils.getHashConf();var searchConf=utils.query2Json(utils.escapeXSS(window.location.search.substring(1)));searchConf.pn=hashJson.pn;var queryJson=searchConf;queryJson.tn="baiduimagelargejson";queryJson.ipn="rlj";var rn=Math.min(Math.floor(Math.max(endIndex-requestEndIndex,300)/REQUEST_IMG_COUNT)*REQUEST_IMG_COUNT,2000);queryJson.rn=rn;queryJson.ie=ie;queryJson.oe=oe;queryJson.pn=requestEndIndex+1;queryJson.is="";var urlArr=BD.IMG.StatCof.getNewURL(queryJson);var url="/i?"+utils.json2Query(urlArr)+"&"+new Date()*Math.random();var successFun,failFun;(function(start,end,tempUrlSign,tempCallBackSign){successFun=function(data){if(tempUrlSign!=urlSign){return}if(typeof data=="string"){try{eval("var tempData="+data)}catch(e){utils.publish("runTimeException",["get data error"+e.toString()]);return}}else{var tempData=data}listNum=tempData.listNum;stroeData(start,end,tempData.data);!callBackFun?utils.publish("model.pageDataStored",[{start:startIndex,end:endIndex,dataStore:dataStore}]):((callBackSign==tempCallBackSign)&&callBackFun.apply(window,[{start:startIndex,end:listNum-1,dataStore:dataStore}]))};failFun=function(){p(null,38,{times:3,out:0,pn:start})}})(requestEndIndex+1,requestEndIndex+1+rn,urlSign,callBackSign);Net.getRequest(url,successFun,false);requestEndIndex=endIndex};var stroeData=function(startIndex,endIndex,data){dataStore=dataStore.slice(0,startIndex).concat(data.slice(0,data.length-1),dataStore.slice(endIndex));dataStoreEndIndex=requestEndIndex=dataStore.length-1};var storeDataByPn=function(pn,img){dataStore[pn]=img;dataStoreEndIndex=dataStore.length-1};var clear=function(){dataStore=[];dataStoreEndIndex=0;requestEndIndex=-1;listNum=0;urlSign=new Date()*Math.random();callBackSign=new Date()*Math.random()};var setListNum=function(num){listNum=num};return{clear:clear,getPageData:getPageData,fetchLargeData:fetchData,storeDataByPn:storeDataByPn,setListNum:setListNum,requestData:requestData,ini:ini}})();exports=window.PageData=BD.IMG.PagaData;return exports},["/static/searchdetail/ui/base/utils/utils.js","/static/searchdetail/ui/base/statistic/statistic.js","/static/searchdetail/ui/singleton/net/net.js","/static/searchdetail/ui/base/ParamsBus/ParamsBus.js"]);
F.module("/static/searchdetail/ui/singleton/PassLogin/PassLogin.js",function(c,a){var b=c("/static/common/lib/tangram/base/base.js");BD=window.BD||{};BD.IMG=BD.IMG||{};a=BD.IMG.PassLogin=(function(){function d(e){b.sio.callByBrowser("http://passport.baidu.com/js/pass_uni_loginWrapper.js",function(){var f=bdPass.pop.init({staticpage:e.jumpPage,apiopt:{tpl:e.tpl},onLoginSuccess:function(){statistic.send(null,101,{xiangceLogin:f._fromXiangce,login:"1"});setTimeout(function(){window.location.reload()},100)},forgetLink:"https://passport.baidu.com/?getpass_index&u="+encodeURIComponent(window.location.href),registerLink:"https://passport.baidu.com/v2/?reg&regType=1&tpl=im&u="+encodeURIComponent(window.location.href),cache:false,u:window.location.href});f._fromXiangce=0;f.onhide=function(){f._fromXiangce=0};BD.IMG.ext=BD.IMG.ext||{};BD.IMG.ext.loginPop=f})}return{ini:d}})();return a},["/static/common/lib/tangram/base/base.js"]);
F.module("/static/searchdetail/ui/singleton/TipDialog/TipDialog.js",function(b,a){BD=window.BD||{};BD.IMG=BD.IMG||{};a=BD.IMG.TipDialog=function(d){var g=this._elem=document.createElement("div"),f=d.style,c=g.style,h=this;this._parent=d.parentNode;this._autoClose=!!d.autoClose;this._closeTimeout=d.closeTime||1000;this._mouseIn=false;g.innerHTML=d.content||"";(d.className)&&(g.className=d.className);if(f){for(var e in f){c[e]=f[e]}}(d.parentNode)&&d.parentNode.appendChild(g);g.onmouseover=function(i){clearTimeout(h._closeTimer);h._mouseIn=true};g.onmouseout=function(j){j=j||window.event;var i=j.relatedTarget||j.toElement;while(i&&i!==g&&i.tagName!=="BODY"&&i.tagName!=="HTML"){i=i.parentNode}if(i!==g&&h._autoClose){h.hide()}};return this};BD.IMG.TipDialog.prototype={constructor:BD.IMG.TipDialog,appendTo:function(c){if(!c||!c.appendChild){throw new Error("parent does not exist or is not an element! From BD.IMG.TipDialog.prototype.appendTo")}if(c!=this._parent){c.appendChild(this._elem);this._parent=c}return this},content:function(c){this._elem.innerHTML=c;return this},setStyle:function(e){if(!this._elem){throw new Error("this._elem does not exist! From BD.IMG.TipDialog.prototype.setStyle")}var d=this._elem.style,c;for(c in e){d[c]=e[c]}return this},show:function(){if(!this._visible){if(!this._parent){throw new Error("parent does not exist! From BD.IMG.TipDialog.prototype.show ")}var c=this;this._elem.style.display="block";this._visible=true;if(this._autoClose){this._closeTimer=setTimeout(function(){c.hide()},this._closeTimeout)}}return this},hide:function(){clearTimeout(this._closeTimer);this._elem.style.display="none";this._visible=false;return this},destroy:function(){if(this._visible){this.hide()}var c=this._elem;c.onmouseover=null;c.onmouseout=null;this._parent.removeChild(c);delete this._parent;delete this._closeTimer;delete this._elem;c=null;return this}};return a},[]);
F.module("/static/searchdetail/ui/singleton/SpecialRecord/SpecialRecord.js",function(f,k){var i=f("/static/common/lib/tangram/base/base.js");var d=f("/static/searchdetail/ui/base/statistic/statistic.js");var e="postMessage" in window;var c;var q="__ilike_picture_icon",n="__ilike_page_icon",r,h,a=i.browser.ie,g="-1,,,",b=escape(g),o=window.name;var j=function(p){d.send(null,361,{type:p})};var m=function(p){if(p&&p.data===g){j("msg")}};var l=function(){var t=window.name,s=document.domain,p=/woxihuan/ig;if(t!==o&&p.test(t)){o=t;j("nameck")}};k.init=function(){i.on(window,"load",function(){if(i.browser.chrome){i.on(document.body,"mousedown",function(s){var p=s.target;if(p.id===q||p.id===n){j("click")}})}else{if(e){i.on(window,"message",m)}else{c=setInterval(l,500)}}})};return k},["/static/common/lib/tangram/base/base.js","/static/searchdetail/ui/base/statistic/statistic.js"]);